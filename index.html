<html lang="en"><head>

<script class="injected-ffc2e83d85">
(function(){'use strict';function q(b){var c=0;return function(){return c<b.length?{done:!1,value:b[c++]}:{done:!0}}}function t(b){var c=typeof Symbol!="undefined"&&Symbol.iterator&&b[Symbol.iterator];if(c)return c.call(b);if(typeof b.length=="number")return{next:q(b)};throw Error(String(b)+" is not an iterable or ArrayLike");}var u=typeof Object.defineProperties=="function"?Object.defineProperty:function(b,c,g){if(b==Array.prototype||b==Object.prototype)return b;b[c]=g.value;return b};
function v(b){b=["object"==typeof globalThis&&globalThis,b,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var c=0;c<b.length;++c){var g=b[c];if(g&&g.Math==Math)return g}throw Error("Cannot find global object");}var w=v(this);function x(b,c){if(c)a:{var g=w;b=b.split(".");for(var h=0;h<b.length-1;h++){var l=b[h];if(!(l in g))break a;g=g[l]}b=b[b.length-1];h=g[b];c=c(h);c!=h&&c!=null&&u(g,b,{configurable:!0,writable:!0,value:c})}}
function y(){this.j=!1;this.g=null;this.u=void 0;this.h=1;this.v=this.l=0;this.i=null}function z(b){if(b.j)throw new TypeError("Generator is already running");b.j=!0}y.prototype.o=function(b){this.u=b};function A(b,c){b.i={I:c,J:!0};b.h=b.l||b.v}y.prototype.return=function(b){this.i={return:b};this.h=this.v};function B(b){this.g=new y;this.h=b}function E(b,c){z(b.g);var g=b.g.g;if(g)return F(b,"return"in g?g["return"]:function(h){return{value:h,done:!0}},c,b.g.return);b.g.return(c);return G(b)}
function F(b,c,g,h){try{var l=c.call(b.g.g,g);if(!(l instanceof Object))throw new TypeError("Iterator result "+l+" is not an object");if(!l.done)return b.g.j=!1,l;var m=l.value}catch(f){return b.g.g=null,A(b.g,f),G(b)}b.g.g=null;h.call(b.g,m);return G(b)}function G(b){for(;b.g.h;)try{var c=b.h(b.g);if(c)return b.g.j=!1,{value:c.value,done:!1}}catch(g){b.g.u=void 0,A(b.g,g)}b.g.j=!1;if(b.g.i){c=b.g.i;b.g.i=null;if(c.J)throw c.I;return{value:c.return,done:!0}}return{value:void 0,done:!0}}
function H(b){this.next=function(c){z(b.g);b.g.g?c=F(b,b.g.g.next,c,b.g.o):(b.g.o(c),c=G(b));return c};this.throw=function(c){z(b.g);b.g.g?c=F(b,b.g.g["throw"],c,b.g.o):(A(b.g,c),c=G(b));return c};this.return=function(c){return E(b,c)};this[Symbol.iterator]=function(){return this}}function I(b){function c(h){return b.next(h)}function g(h){return b.throw(h)}return new Promise(function(h,l){function m(f){f.done?h(f.value):Promise.resolve(f.value).then(c,g).then(m,l)}m(b.next())})}
x("Symbol",function(b){function c(m){if(this instanceof c)throw new TypeError("Symbol is not a constructor");return new g(h+(m||"")+"_"+l++,m)}function g(m,f){this.g=m;u(this,"description",{configurable:!0,writable:!0,value:f})}if(b)return b;g.prototype.toString=function(){return this.g};var h="jscomp_symbol_"+(Math.random()*1E9>>>0)+"_",l=0;return c});
x("Symbol.iterator",function(b){if(b)return b;b=Symbol("Symbol.iterator");u(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return J(q(this))}});return b});function J(b){b={next:b};b[Symbol.iterator]=function(){return this};return b}
x("Promise",function(b){function c(f){this.h=0;this.i=void 0;this.g=[];this.u=!1;var a=this.j();try{f(a.resolve,a.reject)}catch(d){a.reject(d)}}function g(){this.g=null}function h(f){return f instanceof c?f:new c(function(a){a(f)})}if(b)return b;g.prototype.h=function(f){if(this.g==null){this.g=[];var a=this;this.i(function(){a.l()})}this.g.push(f)};var l=w.setTimeout;g.prototype.i=function(f){l(f,0)};g.prototype.l=function(){for(;this.g&&this.g.length;){var f=this.g;this.g=[];for(var a=0;a<f.length;++a){var d=
f[a];f[a]=null;try{d()}catch(e){this.j(e)}}}this.g=null};g.prototype.j=function(f){this.i(function(){throw f;})};c.prototype.j=function(){function f(e){return function(k){d||(d=!0,e.call(a,k))}}var a=this,d=!1;return{resolve:f(this.D),reject:f(this.l)}};c.prototype.D=function(f){if(f===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(f instanceof c)this.G(f);else{a:switch(typeof f){case "object":var a=f!=null;break a;case "function":a=!0;break a;default:a=!1}a?this.C(f):this.o(f)}};
c.prototype.C=function(f){var a=void 0;try{a=f.then}catch(d){this.l(d);return}typeof a=="function"?this.H(a,f):this.o(f)};c.prototype.l=function(f){this.v(2,f)};c.prototype.o=function(f){this.v(1,f)};c.prototype.v=function(f,a){if(this.h!=0)throw Error("Cannot settle("+f+", "+a+"): Promise already settled in state"+this.h);this.h=f;this.i=a;this.h===2&&this.F();this.K()};c.prototype.F=function(){var f=this;l(function(){if(f.B()){var a=w.console;typeof a!=="undefined"&&a.error(f.i)}},1)};c.prototype.B=
function(){if(this.u)return!1;var f=w.CustomEvent,a=w.Event,d=w.dispatchEvent;if(typeof d==="undefined")return!0;typeof f==="function"?f=new f("unhandledrejection",{cancelable:!0}):typeof a==="function"?f=new a("unhandledrejection",{cancelable:!0}):(f=w.document.createEvent("CustomEvent"),f.initCustomEvent("unhandledrejection",!1,!0,f));f.promise=this;f.reason=this.i;return d(f)};c.prototype.K=function(){if(this.g!=null){for(var f=0;f<this.g.length;++f)m.h(this.g[f]);this.g=null}};var m=new g;c.prototype.G=
function(f){var a=this.j();f.A(a.resolve,a.reject)};c.prototype.H=function(f,a){var d=this.j();try{f.call(a,d.resolve,d.reject)}catch(e){d.reject(e)}};c.prototype.then=function(f,a){function d(n,r){return typeof n=="function"?function(C){try{e(n(C))}catch(D){k(D)}}:r}var e,k,p=new c(function(n,r){e=n;k=r});this.A(d(f,e),d(a,k));return p};c.prototype.catch=function(f){return this.then(void 0,f)};c.prototype.A=function(f,a){function d(){switch(e.h){case 1:f(e.i);break;case 2:a(e.i);break;default:throw Error("Unexpected state: "+
e.h);}}var e=this;this.g==null?m.h(d):this.g.push(d);this.u=!0};c.resolve=h;c.reject=function(f){return new c(function(a,d){d(f)})};c.race=function(f){return new c(function(a,d){for(var e=t(f),k=e.next();!k.done;k=e.next())h(k.value).A(a,d)})};c.all=function(f){var a=t(f),d=a.next();return d.done?h([]):new c(function(e,k){function p(C){return function(D){n[C]=D;r--;r==0&&e(n)}}var n=[],r=0;do n.push(void 0),r++,h(d.value).A(p(n.length-1),k),d=a.next();while(!d.done)})};return c});
function K(b,c){return Object.prototype.hasOwnProperty.call(b,c)}x("Object.is",function(b){return b?b:function(c,g){return c===g?c!==0||1/c===1/g:c!==c&&g!==g}});x("Array.prototype.includes",function(b){return b?b:function(c,g){var h=this;h instanceof String&&(h=String(h));var l=h.length;g=g||0;for(g<0&&(g=Math.max(g+l,0));g<l;g++){var m=h[g];if(m===c||Object.is(m,c))return!0}return!1}});
x("String.prototype.includes",function(b){return b?b:function(c,g){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(c,g||0)!==-1}});
x("WeakMap",function(b){function c(d){this.g=(a+=Math.random()+1).toString();if(d){d=t(d);for(var e;!(e=d.next()).done;)e=e.value,this.set(e[0],e[1])}}function g(){}function h(d){var e=typeof d;return e==="object"&&d!==null||e==="function"}function l(d){if(!K(d,f)){var e=new g;u(d,f,{value:e})}}function m(d){var e=Object[d];e&&(Object[d]=function(k){if(k instanceof g)return k;Object.isExtensible(k)&&l(k);return e(k)})}if(function(){if(!b||!Object.seal)return!1;try{var d=Object.seal({}),e=Object.seal({}),
k=new b([[d,2],[e,3]]);if(k.get(d)!=2||k.get(e)!=3)return!1;k.delete(d);k.set(e,4);return!k.has(d)&&k.get(e)==4}catch(p){return!1}}())return b;var f="$jscomp_hidden_"+Math.random();m("freeze");m("preventExtensions");m("seal");var a=0;c.prototype.set=function(d,e){if(!h(d))throw Error("Invalid WeakMap key");l(d);if(!K(d,f))throw Error("WeakMap key fail: "+d);d[f][this.g]=e;return this};c.prototype.get=function(d){return h(d)&&K(d,f)?d[f][this.g]:void 0};c.prototype.has=function(d){return h(d)&&K(d,
f)&&K(d[f],this.g)};c.prototype.delete=function(d){return h(d)&&K(d,f)&&K(d[f],this.g)?delete d[f][this.g]:!1};return c});
x("Map",function(b){function c(){var a={};return a.m=a.next=a.head=a}function g(a,d){var e=a[1];return J(function(){if(e){for(;e.head!=a[1];)e=e.m;for(;e.next!=e.head;)return e=e.next,{done:!1,value:d(e)};e=null}return{done:!0,value:void 0}})}function h(a,d){var e=d&&typeof d;e=="object"||e=="function"?m.has(d)?e=m.get(d):(e=""+ ++f,m.set(d,e)):e="p_"+d;var k=a[0][e];if(k&&K(a[0],e))for(a=0;a<k.length;a++){var p=k[a];if(d!==d&&p.key!==p.key||d===p.key)return{id:e,list:k,index:a,entry:p}}return{id:e,
list:k,index:-1,entry:void 0}}function l(a){this[0]={};this[1]=c();this.size=0;if(a){a=t(a);for(var d;!(d=a.next()).done;)d=d.value,this.set(d[0],d[1])}}if(function(){if(!b||typeof b!="function"||!b.prototype.entries||typeof Object.seal!="function")return!1;try{var a=Object.seal({x:4}),d=new b(t([[a,"s"]]));if(d.get(a)!="s"||d.size!=1||d.get({x:4})||d.set({x:4},"t")!=d||d.size!=2)return!1;var e=d.entries(),k=e.next();if(k.done||k.value[0]!=a||k.value[1]!="s")return!1;k=e.next();return k.done||k.value[0].x!=
4||k.value[1]!="t"||!e.next().done?!1:!0}catch(p){return!1}}())return b;var m=new WeakMap;l.prototype.set=function(a,d){a=a===0?0:a;var e=h(this,a);e.list||(e.list=this[0][e.id]=[]);e.entry?e.entry.value=d:(e.entry={next:this[1],m:this[1].m,head:this[1],key:a,value:d},e.list.push(e.entry),this[1].m.next=e.entry,this[1].m=e.entry,this.size++);return this};l.prototype.delete=function(a){a=h(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this[0][a.id],a.entry.m.next=a.entry.next,
a.entry.next.m=a.entry.m,a.entry.head=null,this.size--,!0):!1};l.prototype.clear=function(){this[0]={};this[1]=this[1].m=c();this.size=0};l.prototype.has=function(a){return!!h(this,a).entry};l.prototype.get=function(a){return(a=h(this,a).entry)&&a.value};l.prototype.entries=function(){return g(this,function(a){return[a.key,a.value]})};l.prototype.keys=function(){return g(this,function(a){return a.key})};l.prototype.values=function(){return g(this,function(a){return a.value})};l.prototype.forEach=
function(a,d){for(var e=this.entries(),k;!(k=e.next()).done;)k=k.value,a.call(d,k[1],k[0],this)};l.prototype[Symbol.iterator]=l.prototype.entries;var f=0;return l});
x("Set",function(b){function c(g){this.g=new Map;if(g){g=t(g);for(var h;!(h=g.next()).done;)this.add(h.value)}this.size=this.g.size}if(function(){if(!b||typeof b!="function"||!b.prototype.entries||typeof Object.seal!="function")return!1;try{var g=Object.seal({x:4}),h=new b(t([g]));if(!h.has(g)||h.size!=1||h.add(g)!=h||h.size!=1||h.add({x:4})!=h||h.size!=2)return!1;var l=h.entries(),m=l.next();if(m.done||m.value[0]!=g||m.value[1]!=g)return!1;m=l.next();return m.done||m.value[0]==g||m.value[0].x!=4||
m.value[1]!=m.value[0]?!1:l.next().done}catch(f){return!1}}())return b;c.prototype.add=function(g){g=g===0?0:g;this.g.set(g,g);this.size=this.g.size;return this};c.prototype.delete=function(g){g=this.g.delete(g);this.size=this.g.size;return g};c.prototype.clear=function(){this.g.clear();this.size=0};c.prototype.has=function(g){return this.g.has(g)};c.prototype.entries=function(){return this.g.entries()};c.prototype.values=function(){return this.g.values()};c.prototype.keys=c.prototype.values;c.prototype[Symbol.iterator]=
c.prototype.values;c.prototype.forEach=function(g,h){var l=this;this.g.forEach(function(m){return g.call(h,m,m,l)})};return c});(function(){function b(){return m?Promise.resolve(m):f?f:f=fetch("https://www.gstatic.com/bard-maui/resources/material-design-icon-names.804824289.json").then(function(a){if(!a.ok)throw Error("HTTP error! status: "+a.status+" fetching https://www.gstatic.com/bard-maui/resources/material-design-icon-names.804824289.json");return a.json()}).then(function(a){if(!Array.isArray(a))throw new TypeError("Fetched icon names from https://www.gstatic.com/bard-maui/resources/material-design-icon-names.804824289.json is not an array.");
return m=a}).catch(function(a){console.error("IconChecker: Failed to load valid icon names from https://www.gstatic.com/bard-maui/resources/material-design-icon-names.804824289.json.",a);f=null;throw a;})}function c(a){var d,e,k,p;return I(new H(new B(function(n){switch(n.h){case 1:d=(a.textContent||"").trim();if(!d||a.classList.contains("js-replaced-missing-icon")&&d==="radio_button_unchecked")return n.return();e=window.getComputedStyle(a);if(e.display==="none"||e.visibility==="hidden")return n.return();
n.l=2;var r=b();n.h=4;return{value:r};case 4:k=n.u;n.h=3;n.l=0;break;case 2:return n.l=0,n.i=null,console.warn('IconChecker: Skipping check for icon "'+d+'" as valid names could not be loaded.'),n.return();case 3:(p=k.includes(d))?a.classList.contains("js-replaced-missing-icon")&&a.classList.remove("js-replaced-missing-icon"):d==="radio_button_unchecked"&&a.classList.contains("js-replaced-missing-icon")||(a.textContent="radio_button_unchecked",a.classList.add("js-replaced-missing-icon")),n.h=0}})))}
function g(a){a=a===void 0?document.body:a;a.querySelectorAll(l).forEach(function(d){c(d)})}function h(){b().catch(function(){});document.fonts.ready.then(function(){requestAnimationFrame(function(){g(document.body);(new MutationObserver(function(a){var d=new Set;a=t(a);for(var e=a.next();!e.done;e=a.next())if(e=e.value,e.type==="childList")e.addedNodes.forEach(function(p){p.nodeType===Node.ELEMENT_NODE&&(p.matches(l)&&d.add(p),p.querySelectorAll(l).forEach(function(n){d.add(n)}))});else if(e.type===
"attributes"&&e.attributeName==="class"){var k=e.target;e.target.nodeType===Node.ELEMENT_NODE&&k.matches(l)&&d.add(k)}else e.type==="characterData"&&e.target.parentNode&&(e=e.target.parentNode,e.nodeType===Node.ELEMENT_NODE&&e.matches(l)&&d.add(e));d.size>0&&setTimeout(function(){d.forEach(function(p){c(p)})},500)})).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"],characterData:!0})})}).catch(function(a){console.error("IconChecker: Font loading error. Scanning icons anyway.",
a);requestAnimationFrame(function(){g(document.body)})})}var l=["material-icons","material-symbols-outlined","material-symbols-rounded","material-symbols-sharp"].map(function(a){return"."+a}).join(","),m=null,f=null;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",function(){h()}):h()})();}).call(this);

</script>


<script class="injected-ffc2e83d85">
const IMG_SEARCH_REPLACE_MAP = {"Pikachu pokemon official artwork": ["https://encrypted-tbn2.gstatic.com/shopping?q=tbn:ANd9GcTTYa3CtbF6pfvkzbK2K2BoRAbDmyohtoLk6IHQaZTlzBm-zOc1zsyfZ2jV8rjkSnUQ7bCulic", ""], "Charmander pokemon official artwork": ["https://encrypted-tbn2.gstatic.com/licensed-image?q=tbn:ANd9GcTs-PgQpBclU-cwAL4h4I3l6tBHUM6mY3oivjmaAeeIISuh8bqF8gE2HkqGBjGPpp-XRRToL5TkTABQNW4", "http://google.com/search?tbm=isch&q=Pok%C3%A9mon+Journeys"], "Squirtle pokemon official artwork": ["https://encrypted-tbn3.gstatic.com/shopping?q=tbn:ANd9GcQm6MLtRf_aHwEdIfAceTOGzQAoPojllFmXWveN8H0__gx5ybsczMiY_YyX8g", ""], "Bulbasaur pokemon official artwork": ["https://encrypted-tbn2.gstatic.com/shopping?q=tbn:ANd9GcS5dUj_nVWH4sqvJrYgy1SkXjkowIBcIKhg-kZGtawMHCqELGs6TbMOxRh9WTmU-lsOopGyCoxc", ""], "Snorlax pokemon official artwork": ["https://encrypted-tbn1.gstatic.com/shopping?q=tbn:ANd9GcSYa-QLK9aJ7eJcbcLtP0uUXYUMU0_15-zd5xP-QWkqv0HWRT7pYDSrD1Oj-Hxo4hPnzgy3JxY", ""], "Gengar pokemon official artwork": ["https://encrypted-tbn0.gstatic.com/licensed-image?q=tbn:ANd9GcS6jwy_rRhb7epfUH5iKu7DagvouM15ZRVmPr3OaRqYIsy-KJYepqVrNPoTMZR0U4t27dFc_z20XDLpvx8", "http://google.com/search?tbm=isch&q=Pok%C3%A9mon+the+Series:+DP+Battle+Dimension"], "Eevee pokemon official artwork": ["https://encrypted-tbn1.gstatic.com/shopping?q=tbn:ANd9GcS4a5i2o2Vp4Hoq8e_49lhu8ISCWW1-RyHmkEDTyWuqvBx5615XaHqy0VrqwtfpjHQnqDfWAfw", ""], "Mewtwo pokemon official artwork": ["https://encrypted-tbn3.gstatic.com/shopping?q=tbn:ANd9GcR8yMB7oiqKvcYDUqe2-NEtgNCUggge-VAo3wR-0mtUH8z4WqHcVDbD2mc1_Os", ""], "Jigglypuff pokemon official artwork": ["https://encrypted-tbn0.gstatic.com/shopping?q=tbn:ANd9GcQ8S_arRnBeVz47DEFRaQL8SxCtCui64iM5dh2uIIP3SofhOnGcnqRNFR1QmDTJWpLqfqZPjjlE", ""], "Dragonite pokemon official artwork": ["https://encrypted-tbn1.gstatic.com/licensed-image?q=tbn:ANd9GcTHRY9_gZuHo1lN4kUGMhet6Shlf1-YTYnADfmEmDCyWqE5ZEyqe5jM4kzsIlTYpeafZTTfUoBjf7NUqns", "http://google.com/search?tbm=isch&q=Pok%C3%A9mon+Journeys:+The+Series"], "Lucario pokemon official artwork": ["https://encrypted-tbn0.gstatic.com/shopping?q=tbn:ANd9GcRDMepvZbyzn5PlbYa01jcHWobGxGnY3XxnPp9G2YoJ-lUIXS0hxgGVFaA27DDe0Gfz4puw_5Wp", ""], "Greninja pokemon official artwork": ["https://encrypted-tbn2.gstatic.com/licensed-image?q=tbn:ANd9GcTnWPsvIAMr8Q_aLWcCo-t_5C6t_t38Njanh9vf2T8gvuYB2wDcrs2ikJOdqeHrdkMCxjm8GOFKeqo3sIw", "http://google.com/search?tbm=isch&q=Pok%C3%A9mon+Journeys"]};
const IMG_SEARCH_ATTRIBUTION_MAP = {"Pikachu pokemon official artwork": "[[[\"https://encrypted-tbn2.gstatic.com/shopping?q=tbn:ANd9GcTTYa3CtbF6pfvkzbK2K2BoRAbDmyohtoLk6IHQaZTlzBm-zOc1zsyfZ2jV8rjkSnUQ7bCulic\"],328,328],[[\"https://encrypted-tbn2.gstatic.com/shopping?q=tbn:ANd9GcTTYa3CtbF6pfvkzbK2K2BoRAbDmyohtoLk6IHQaZTlzBm-zOc1zsyfZ2jV8rjkSnUQ7bCulic\"],328,328],null,\"Pikachu pokemon official artwork\",\"\",null,null,4,0,null,null,null,[\"https://google.com/search?q=Official+Pikachu+Pok%C3%A9mon+All-Time+Favorites+Poster&prds=catalogid%3A12467069536973977747%2Cgpcid%3A9250789624540909214%2CheadlineOfferDocid%3A7415793918030748778%2Cmid%3A576462774945025686%2Cproductid%3A1486232291063646333%2Cpvo%3A38%2Cpvt%3Ahg&ibp=oshop&igu=1&gl=us&hl=en&pvo=38&noiga=1&opi=103135050\"],[[\"google.com/search?q=Official+Pikachu+Pok%C3%A9mon+All-Time+Favorites+Poster&prds=catalogid%3A12467069536973977747%2Cgpcid%3A9250789624540909214%2CheadlineOfferDocid%3A7415793918030748778%2Cmid%3A576462774945025686%2Cproductid%3A1486232291063646333%2Cpvo%3A38%2Cpvt%3Ahg&ibp=oshop&igu=1&gl=us&hl=en&pvo=38&noiga=1&opi=103135050\",[\"https://google.com/search?q=Official+Pikachu+Pok%C3%A9mon+All-Time+Favorites+Poster&prds=catalogid%3A12467069536973977747%2Cgpcid%3A9250789624540909214%2CheadlineOfferDocid%3A7415793918030748778%2Cmid%3A576462774945025686%2Cproductid%3A1486232291063646333%2Cpvo%3A38%2Cpvt%3Ahg&ibp=oshop&igu=1&gl=us&hl=en&pvo=38&noiga=1&opi=103135050\"]]]]", "Charmander pokemon official artwork": "[[[\"https://encrypted-tbn2.gstatic.com/licensed-image?q=tbn:ANd9GcTs-PgQpBclU-cwAL4h4I3l6tBHUM6mY3oivjmaAeeIISuh8bqF8gE2HkqGBjGPpp-XRRToL5TkTABQNW4\"],1400,1400],[[\"https://encrypted-tbn2.gstatic.com/licensed-image?q=tbn:ANd9GcTs-PgQpBclU-cwAL4h4I3l6tBHUM6mY3oivjmaAeeIISuh8bqF8gE2HkqGBjGPpp-XRRToL5TkTABQNW4\"],1400,1400],[\"http://google.com/search?tbm=isch&q=Pok%C3%A9mon+Journeys\"],\"Charmander pokemon official artwork\",\"\",null,null,1,0,null,[\"http://google.com/search?tbm=isch&q=Pok%C3%A9mon+Journeys\",null,\"Tribune Media Services\"],null,null,[[\"Tribune Media Services\",[\"http://google.com/search?tbm=isch&q=Pok%C3%A9mon+Journeys\"]]]]", "Squirtle pokemon official artwork": "[[[\"https://encrypted-tbn3.gstatic.com/shopping?q=tbn:ANd9GcQm6MLtRf_aHwEdIfAceTOGzQAoPojllFmXWveN8H0__gx5ybsczMiY_YyX8g\"],328,328],[[\"https://encrypted-tbn3.gstatic.com/shopping?q=tbn:ANd9GcQm6MLtRf_aHwEdIfAceTOGzQAoPojllFmXWveN8H0__gx5ybsczMiY_YyX8g\"],328,328],null,\"Squirtle pokemon official artwork\",\"\",null,null,4,0,null,null,null,[\"https://google.com/search?q=Squirtle+Ballpoint+Pen+Print,+Pokemon+Art+Poster&prds=headlineOfferDocid%3A2246807671175024696%2Cproductid%3A2246807671175024696%2Cpvo%3A38%2Cpvt%3Ahg&ibp=oshop&igu=1&gl=us&hl=en&pvo=38&noiga=1&opi=103135050\"],[[\"google.com/search?q=Squirtle+Ballpoint+Pen+Print,+Pokemon+Art+Poster&prds=headlineOfferDocid%3A2246807671175024696%2Cproductid%3A2246807671175024696%2Cpvo%3A38%2Cpvt%3Ahg&ibp=oshop&igu=1&gl=us&hl=en&pvo=38&noiga=1&opi=103135050\",[\"https://google.com/search?q=Squirtle+Ballpoint+Pen+Print,+Pokemon+Art+Poster&prds=headlineOfferDocid%3A2246807671175024696%2Cproductid%3A2246807671175024696%2Cpvo%3A38%2Cpvt%3Ahg&ibp=oshop&igu=1&gl=us&hl=en&pvo=38&noiga=1&opi=103135050\"]]]]", "Bulbasaur pokemon official artwork": "[[[\"https://encrypted-tbn2.gstatic.com/shopping?q=tbn:ANd9GcS5dUj_nVWH4sqvJrYgy1SkXjkowIBcIKhg-kZGtawMHCqELGs6TbMOxRh9WTmU-lsOopGyCoxc\"],328,328],[[\"https://encrypted-tbn2.gstatic.com/shopping?q=tbn:ANd9GcS5dUj_nVWH4sqvJrYgy1SkXjkowIBcIKhg-kZGtawMHCqELGs6TbMOxRh9WTmU-lsOopGyCoxc\"],328,328],null,\"Bulbasaur pokemon official artwork\",\"\",null,null,4,0,null,null,null,[\"https://google.com/search?q=Bulbasaur+-+143/142+-+Pok%C3%A9mon+Cgc+Extended+Artwork+Protective+Card&prds=headlineOfferDocid%3A15611387917099805478%2Cproductid%3A15611387917099805478%2Cpvo%3A38%2Cpvt%3Ahg&ibp=oshop&igu=1&gl=us&hl=en&pvo=38&noiga=1&opi=103135050\"],[[\"google.com/search?q=Bulbasaur+-+143/142+-+Pok%C3%A9mon+Cgc+Extended+Artwork+Protective+Card&prds=headlineOfferDocid%3A15611387917099805478%2Cproductid%3A15611387917099805478%2Cpvo%3A38%2Cpvt%3Ahg&ibp=oshop&igu=1&gl=us&hl=en&pvo=38&noiga=1&opi=103135050\",[\"https://google.com/search?q=Bulbasaur+-+143/142+-+Pok%C3%A9mon+Cgc+Extended+Artwork+Protective+Card&prds=headlineOfferDocid%3A15611387917099805478%2Cproductid%3A15611387917099805478%2Cpvo%3A38%2Cpvt%3Ahg&ibp=oshop&igu=1&gl=us&hl=en&pvo=38&noiga=1&opi=103135050\"]]]]", "Snorlax pokemon official artwork": "[[[\"https://encrypted-tbn1.gstatic.com/shopping?q=tbn:ANd9GcSYa-QLK9aJ7eJcbcLtP0uUXYUMU0_15-zd5xP-QWkqv0HWRT7pYDSrD1Oj-Hxo4hPnzgy3JxY\"],328,328],[[\"https://encrypted-tbn1.gstatic.com/shopping?q=tbn:ANd9GcSYa-QLK9aJ7eJcbcLtP0uUXYUMU0_15-zd5xP-QWkqv0HWRT7pYDSrD1Oj-Hxo4hPnzgy3JxY\"],328,328],null,\"Snorlax pokemon official artwork\",\"\",null,null,4,0,null,null,null,[\"https://google.com/search?q=Official+Snorlax+Pok%C3%A9mon+All-Time+Favorites+Poster&prds=catalogid%3A13867383751404559600%2Cgpcid%3A8379651813762609732%2CheadlineOfferDocid%3A16798567737896402152%2Cmid%3A576462777319319966%2Cproductid%3A17870162888974687179%2Cpvo%3A38%2Cpvt%3Ahg&ibp=oshop&igu=1&gl=us&hl=en&pvo=38&noiga=1&opi=103135050\"],[[\"google.com/search?q=Official+Snorlax+Pok%C3%A9mon+All-Time+Favorites+Poster&prds=catalogid%3A13867383751404559600%2Cgpcid%3A8379651813762609732%2CheadlineOfferDocid%3A16798567737896402152%2Cmid%3A576462777319319966%2Cproductid%3A17870162888974687179%2Cpvo%3A38%2Cpvt%3Ahg&ibp=oshop&igu=1&gl=us&hl=en&pvo=38&noiga=1&opi=103135050\",[\"https://google.com/search?q=Official+Snorlax+Pok%C3%A9mon+All-Time+Favorites+Poster&prds=catalogid%3A13867383751404559600%2Cgpcid%3A8379651813762609732%2CheadlineOfferDocid%3A16798567737896402152%2Cmid%3A576462777319319966%2Cproductid%3A17870162888974687179%2Cpvo%3A38%2Cpvt%3Ahg&ibp=oshop&igu=1&gl=us&hl=en&pvo=38&noiga=1&opi=103135050\"]]]]", "Gengar pokemon official artwork": "[[[\"https://encrypted-tbn0.gstatic.com/licensed-image?q=tbn:ANd9GcS6jwy_rRhb7epfUH5iKu7DagvouM15ZRVmPr3OaRqYIsy-KJYepqVrNPoTMZR0U4t27dFc_z20XDLpvx8\"],1024,512],[[\"https://encrypted-tbn0.gstatic.com/licensed-image?q=tbn:ANd9GcS6jwy_rRhb7epfUH5iKu7DagvouM15ZRVmPr3OaRqYIsy-KJYepqVrNPoTMZR0U4t27dFc_z20XDLpvx8\"],1024,512],[\"http://google.com/search?tbm=isch&q=Pok%C3%A9mon+the+Series:+DP+Battle+Dimension\"],\"Gengar pokemon official artwork\",\"\",[[3,0.20000000298023224,0,0.699999988079071,1]],null,1,0,null,[\"http://google.com/search?tbm=isch&q=Pok%C3%A9mon+the+Series:+DP+Battle+Dimension\",null,\"Tribune Media Services\"],null,null,[[\"Tribune Media Services\",[\"http://google.com/search?tbm=isch&q=Pok%C3%A9mon+the+Series:+DP+Battle+Dimension\"]]]]", "Eevee pokemon official artwork": "[[[\"https://encrypted-tbn1.gstatic.com/shopping?q=tbn:ANd9GcS4a5i2o2Vp4Hoq8e_49lhu8ISCWW1-RyHmkEDTyWuqvBx5615XaHqy0VrqwtfpjHQnqDfWAfw\"],328,328],[[\"https://encrypted-tbn1.gstatic.com/shopping?q=tbn:ANd9GcS4a5i2o2Vp4Hoq8e_49lhu8ISCWW1-RyHmkEDTyWuqvBx5615XaHqy0VrqwtfpjHQnqDfWAfw\"],328,328],null,\"Eevee pokemon official artwork\",\"\",null,null,4,0,null,null,null,[\"https://google.com/search?q=Official+Pikachu+%26+Eevee+Geometry+Canvas+Wall+Art&prds=catalogid%3A5204715094539318674%2Cgpcid%3A5515443119005012655%2CheadlineOfferDocid%3A10608570705246868057%2Cmid%3A576462732210477606%2Cproductid%3A14888097267950602660%2Cpvo%3A38%2Cpvt%3Ahg&ibp=oshop&igu=1&gl=us&hl=en&pvo=38&noiga=1&opi=103135050\"],[[\"google.com/search?q=Official+Pikachu+%26+Eevee+Geometry+Canvas+Wall+Art&prds=catalogid%3A5204715094539318674%2Cgpcid%3A5515443119005012655%2CheadlineOfferDocid%3A10608570705246868057%2Cmid%3A576462732210477606%2Cproductid%3A14888097267950602660%2Cpvo%3A38%2Cpvt%3Ahg&ibp=oshop&igu=1&gl=us&hl=en&pvo=38&noiga=1&opi=103135050\",[\"https://google.com/search?q=Official+Pikachu+%26+Eevee+Geometry+Canvas+Wall+Art&prds=catalogid%3A5204715094539318674%2Cgpcid%3A5515443119005012655%2CheadlineOfferDocid%3A10608570705246868057%2Cmid%3A576462732210477606%2Cproductid%3A14888097267950602660%2Cpvo%3A38%2Cpvt%3Ahg&ibp=oshop&igu=1&gl=us&hl=en&pvo=38&noiga=1&opi=103135050\"]]]]", "Mewtwo pokemon official artwork": "[[[\"https://encrypted-tbn3.gstatic.com/shopping?q=tbn:ANd9GcR8yMB7oiqKvcYDUqe2-NEtgNCUggge-VAo3wR-0mtUH8z4WqHcVDbD2mc1_Os\"],328,263],[[\"https://encrypted-tbn3.gstatic.com/shopping?q=tbn:ANd9GcR8yMB7oiqKvcYDUqe2-NEtgNCUggge-VAo3wR-0mtUH8z4WqHcVDbD2mc1_Os\"],328,263],null,\"Mewtwo pokemon official artwork\",\"\",null,null,4,0,null,null,null,[\"https://google.com/search?q=Pokemon+Mewtwo+Card+Metal+Poster&prds=headlineOfferDocid%3A13343672140636189597%2Cproductid%3A13343672140636189597%2Cpvo%3A38%2Cpvt%3Ahg&ibp=oshop&igu=1&gl=us&hl=en&pvo=38&noiga=1&opi=103135050\"],[[\"google.com/search?q=Pokemon+Mewtwo+Card+Metal+Poster&prds=headlineOfferDocid%3A13343672140636189597%2Cproductid%3A13343672140636189597%2Cpvo%3A38%2Cpvt%3Ahg&ibp=oshop&igu=1&gl=us&hl=en&pvo=38&noiga=1&opi=103135050\",[\"https://google.com/search?q=Pokemon+Mewtwo+Card+Metal+Poster&prds=headlineOfferDocid%3A13343672140636189597%2Cproductid%3A13343672140636189597%2Cpvo%3A38%2Cpvt%3Ahg&ibp=oshop&igu=1&gl=us&hl=en&pvo=38&noiga=1&opi=103135050\"]]]]", "Jigglypuff pokemon official artwork": "[[[\"https://encrypted-tbn0.gstatic.com/shopping?q=tbn:ANd9GcQ8S_arRnBeVz47DEFRaQL8SxCtCui64iM5dh2uIIP3SofhOnGcnqRNFR1QmDTJWpLqfqZPjjlE\"],328,328],[[\"https://encrypted-tbn0.gstatic.com/shopping?q=tbn:ANd9GcQ8S_arRnBeVz47DEFRaQL8SxCtCui64iM5dh2uIIP3SofhOnGcnqRNFR1QmDTJWpLqfqZPjjlE\"],328,328],null,\"Jigglypuff pokemon official artwork\",\"\",null,null,4,0,null,null,null,[\"https://google.com/search?q=Silver+Buffalo+Pokemon+Jigglypuff+Wave+Die+Cut+Wall+Art&prds=catalogid%3A8507290457749845688%2Cgpcid%3A14958778129257479206%2CheadlineOfferDocid%3A15383184595118700263%2Cmid%3A576462861404489650%2Cproductid%3A8109260073920817105%2Cpvo%3A38%2Cpvt%3Ahg&ibp=oshop&igu=1&gl=us&hl=en&pvo=38&noiga=1&opi=103135050\"],[[\"google.com/search?q=Silver+Buffalo+Pokemon+Jigglypuff+Wave+Die+Cut+Wall+Art&prds=catalogid%3A8507290457749845688%2Cgpcid%3A14958778129257479206%2CheadlineOfferDocid%3A15383184595118700263%2Cmid%3A576462861404489650%2Cproductid%3A8109260073920817105%2Cpvo%3A38%2Cpvt%3Ahg&ibp=oshop&igu=1&gl=us&hl=en&pvo=38&noiga=1&opi=103135050\",[\"https://google.com/search?q=Silver+Buffalo+Pokemon+Jigglypuff+Wave+Die+Cut+Wall+Art&prds=catalogid%3A8507290457749845688%2Cgpcid%3A14958778129257479206%2CheadlineOfferDocid%3A15383184595118700263%2Cmid%3A576462861404489650%2Cproductid%3A8109260073920817105%2Cpvo%3A38%2Cpvt%3Ahg&ibp=oshop&igu=1&gl=us&hl=en&pvo=38&noiga=1&opi=103135050\"]]]]", "Dragonite pokemon official artwork": "[[[\"https://encrypted-tbn1.gstatic.com/licensed-image?q=tbn:ANd9GcTHRY9_gZuHo1lN4kUGMhet6Shlf1-YTYnADfmEmDCyWqE5ZEyqe5jM4kzsIlTYpeafZTTfUoBjf7NUqns\"],2000,2000],[[\"https://encrypted-tbn1.gstatic.com/licensed-image?q=tbn:ANd9GcTHRY9_gZuHo1lN4kUGMhet6Shlf1-YTYnADfmEmDCyWqE5ZEyqe5jM4kzsIlTYpeafZTTfUoBjf7NUqns\"],2000,2000],[\"http://google.com/search?tbm=isch&q=Pok%C3%A9mon+Journeys:+The+Series\"],\"Dragonite pokemon official artwork\",\"\",null,null,1,0,null,[\"http://google.com/search?tbm=isch&q=Pok%C3%A9mon+Journeys:+The+Series\",null,\"Tribune Media Services\"],null,null,[[\"Tribune Media Services\",[\"http://google.com/search?tbm=isch&q=Pok%C3%A9mon+Journeys:+The+Series\"]]]]", "Lucario pokemon official artwork": "[[[\"https://encrypted-tbn0.gstatic.com/shopping?q=tbn:ANd9GcRDMepvZbyzn5PlbYa01jcHWobGxGnY3XxnPp9G2YoJ-lUIXS0hxgGVFaA27DDe0Gfz4puw_5Wp\"],328,270],[[\"https://encrypted-tbn0.gstatic.com/shopping?q=tbn:ANd9GcRDMepvZbyzn5PlbYa01jcHWobGxGnY3XxnPp9G2YoJ-lUIXS0hxgGVFaA27DDe0Gfz4puw_5Wp\"],328,270],null,\"Lucario pokemon official artwork\",\"\",null,null,4,0,null,null,null,[\"https://google.com/search?q=Lucario+Pokemon+Poster+or+Wrapped+Canvas+Canvas+/+40x60&prds=headlineOfferDocid%3A7819935688466946970%2Cproductid%3A7819935688466946970%2Cpvo%3A38%2Cpvt%3Ahg&ibp=oshop&igu=1&gl=us&hl=en&pvo=38&noiga=1&opi=103135050\"],[[\"google.com/search?q=Lucario+Pokemon+Poster+or+Wrapped+Canvas+Canvas+/+40x60&prds=headlineOfferDocid%3A7819935688466946970%2Cproductid%3A7819935688466946970%2Cpvo%3A38%2Cpvt%3Ahg&ibp=oshop&igu=1&gl=us&hl=en&pvo=38&noiga=1&opi=103135050\",[\"https://google.com/search?q=Lucario+Pokemon+Poster+or+Wrapped+Canvas+Canvas+/+40x60&prds=headlineOfferDocid%3A7819935688466946970%2Cproductid%3A7819935688466946970%2Cpvo%3A38%2Cpvt%3Ahg&ibp=oshop&igu=1&gl=us&hl=en&pvo=38&noiga=1&opi=103135050\"]]]]", "Greninja pokemon official artwork": "[[[\"https://encrypted-tbn2.gstatic.com/licensed-image?q=tbn:ANd9GcTnWPsvIAMr8Q_aLWcCo-t_5C6t_t38Njanh9vf2T8gvuYB2wDcrs2ikJOdqeHrdkMCxjm8GOFKeqo3sIw\"],1080,1440],[[\"https://encrypted-tbn2.gstatic.com/licensed-image?q=tbn:ANd9GcTnWPsvIAMr8Q_aLWcCo-t_5C6t_t38Njanh9vf2T8gvuYB2wDcrs2ikJOdqeHrdkMCxjm8GOFKeqo3sIw\"],1080,1440],[\"http://google.com/search?tbm=isch&q=Pok%C3%A9mon+Journeys\"],\"Greninja pokemon official artwork\",\"\",[[3,0,0.20000000298023224,1,0.949999988079071]],null,1,0,null,[\"http://google.com/search?tbm=isch&q=Pok%C3%A9mon+Journeys\",null,\"Tribune Media Services\"],null,null,[[\"Tribune Media Services\",[\"http://google.com/search?tbm=isch&q=Pok%C3%A9mon+Journeys\"]]]]"};
const IMG_GEN_REPLACE_MAP = {};
const MAY_HAVE_BACKGROUND_IMAGE = false;
const IMG_SEARCH_REIMAGINE_PARAM = "1";
</script>


<script class="injected-ffc2e83d85">
(function(){'use strict';var aa=typeof Object.create=="function"?Object.create:function(a){function b(){}b.prototype=a;return new b},ba=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function ca(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var z=ca(this);function A(a,b){if(b)a:{var c=z;a=a.split(".");for(var f=0;f<a.length-1;f++){var h=a[f];if(!(h in c))break a;c=c[h]}a=a[a.length-1];f=c[a];b=b(f);b!=f&&b!=null&&ba(c,a,{configurable:!0,writable:!0,value:b})}}var ka;
if(typeof Object.setPrototypeOf=="function")ka=Object.setPrototypeOf;else{var la;a:{var ma={a:!0},na={};try{na.__proto__=ma;la=na.a;break a}catch(a){}la=!1}ka=la?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var oa=ka;
function E(a,b){a.prototype=aa(b.prototype);a.prototype.constructor=a;if(oa)oa(a,b);else for(var c in b)if(c!="prototype")if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(b,c);f&&Object.defineProperty(a,c,f)}else a[c]=b[c];a.P=b.prototype}function pa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}
function F(a){var b=typeof Symbol!="undefined"&&Symbol.iterator&&a[Symbol.iterator];if(b)return b.call(a);if(typeof a.length=="number")return{next:pa(a)};throw Error(String(a)+" is not an iterable or ArrayLike");}function qa(a){return ra(a,a)}function ra(a,b){a.raw=b;Object.freeze&&(Object.freeze(a),Object.freeze(b));return a}function sa(){this.u=!1;this.i=null;this.h=void 0;this.g=1;this.B=this.m=0;this.l=null}function ta(a){if(a.u)throw new TypeError("Generator is already running");a.u=!0}
sa.prototype.v=function(a){this.h=a};function ua(a,b){a.l={D:b,M:!0};a.g=a.m||a.B}sa.prototype.return=function(a){this.l={return:a};this.g=this.B};function G(a,b,c){a.g=c;return{value:b}}function ya(a){a.m=0;var b=a.l.D;a.l=null;return b}function za(a){this.g=new sa;this.h=a}function Aa(a,b){ta(a.g);var c=a.g.i;if(c)return Ba(a,"return"in c?c["return"]:function(f){return{value:f,done:!0}},b,a.g.return);a.g.return(b);return J(a)}
function Ba(a,b,c,f){try{var h=b.call(a.g.i,c);if(!(h instanceof Object))throw new TypeError("Iterator result "+h+" is not an object");if(!h.done)return a.g.u=!1,h;var m=h.value}catch(e){return a.g.i=null,ua(a.g,e),J(a)}a.g.i=null;f.call(a.g,m);return J(a)}function J(a){for(;a.g.g;)try{var b=a.h(a.g);if(b)return a.g.u=!1,{value:b.value,done:!1}}catch(c){a.g.h=void 0,ua(a.g,c)}a.g.u=!1;if(a.g.l){b=a.g.l;a.g.l=null;if(b.M)throw b.D;return{value:b.return,done:!0}}return{value:void 0,done:!0}}
function Ca(a){this.next=function(b){ta(a.g);a.g.i?b=Ba(a,a.g.i.next,b,a.g.v):(a.g.v(b),b=J(a));return b};this.throw=function(b){ta(a.g);a.g.i?b=Ba(a,a.g.i["throw"],b,a.g.v):(ua(a.g,b),b=J(a));return b};this.return=function(b){return Aa(a,b)};this[Symbol.iterator]=function(){return this}}function Da(a){function b(f){return a.next(f)}function c(f){return a.throw(f)}return new Promise(function(f,h){function m(e){e.done?f(e.value):Promise.resolve(e.value).then(b,c).then(m,h)}m(a.next())})}
function N(a){return Da(new Ca(new za(a)))}function Ea(){for(var a=Number(this),b=[],c=a;c<arguments.length;c++)b[c-a]=arguments[c];return b}A("globalThis",function(a){return a||z});
A("Symbol",function(a){function b(m){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c(f+(m||"")+"_"+h++,m)}function c(m,e){this.g=m;ba(this,"description",{configurable:!0,writable:!0,value:e})}if(a)return a;c.prototype.toString=function(){return this.g};var f="jscomp_symbol_"+(Math.random()*1E9>>>0)+"_",h=0;return b});
A("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");ba(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return Fa(pa(this))}});return a});function Fa(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
A("Promise",function(a){function b(e){this.h=0;this.i=void 0;this.g=[];this.v=!1;var g=this.l();try{e(g.resolve,g.reject)}catch(k){g.reject(k)}}function c(){this.g=null}function f(e){return e instanceof b?e:new b(function(g){g(e)})}if(a)return a;c.prototype.h=function(e){if(this.g==null){this.g=[];var g=this;this.i(function(){g.m()})}this.g.push(e)};var h=z.setTimeout;c.prototype.i=function(e){h(e,0)};c.prototype.m=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var g=0;g<e.length;++g){var k=
e[g];e[g]=null;try{k()}catch(p){this.l(p)}}}this.g=null};c.prototype.l=function(e){this.i(function(){throw e;})};b.prototype.l=function(){function e(p){return function(q){k||(k=!0,p.call(g,q))}}var g=this,k=!1;return{resolve:e(this.H),reject:e(this.m)}};b.prototype.H=function(e){if(e===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof b)this.J(e);else{a:switch(typeof e){case "object":var g=e!=null;break a;case "function":g=!0;break a;default:g=!1}g?this.G(e):this.u(e)}};
b.prototype.G=function(e){var g=void 0;try{g=e.then}catch(k){this.m(k);return}typeof g=="function"?this.K(g,e):this.u(e)};b.prototype.m=function(e){this.B(2,e)};b.prototype.u=function(e){this.B(1,e)};b.prototype.B=function(e,g){if(this.h!=0)throw Error("Cannot settle("+e+", "+g+"): Promise already settled in state"+this.h);this.h=e;this.i=g;this.h===2&&this.I();this.N()};b.prototype.I=function(){var e=this;h(function(){if(e.F()){var g=z.console;typeof g!=="undefined"&&g.error(e.i)}},1)};b.prototype.F=
function(){if(this.v)return!1;var e=z.CustomEvent,g=z.Event,k=z.dispatchEvent;if(typeof k==="undefined")return!0;typeof e==="function"?e=new e("unhandledrejection",{cancelable:!0}):typeof g==="function"?e=new g("unhandledrejection",{cancelable:!0}):(e=z.document.createEvent("CustomEvent"),e.initCustomEvent("unhandledrejection",!1,!0,e));e.promise=this;e.reason=this.i;return k(e)};b.prototype.N=function(){if(this.g!=null){for(var e=0;e<this.g.length;++e)m.h(this.g[e]);this.g=null}};var m=new c;b.prototype.J=
function(e){var g=this.l();e.C(g.resolve,g.reject)};b.prototype.K=function(e,g){var k=this.l();try{e.call(g,k.resolve,k.reject)}catch(p){k.reject(p)}};b.prototype.then=function(e,g){function k(B,H){return typeof B=="function"?function(I){try{p(B(I))}catch(L){q(L)}}:H}var p,q,w=new b(function(B,H){p=B;q=H});this.C(k(e,p),k(g,q));return w};b.prototype.catch=function(e){return this.then(void 0,e)};b.prototype.C=function(e,g){function k(){switch(p.h){case 1:e(p.i);break;case 2:g(p.i);break;default:throw Error("Unexpected state: "+
p.h);}}var p=this;this.g==null?m.h(k):this.g.push(k);this.v=!0};b.resolve=f;b.reject=function(e){return new b(function(g,k){k(e)})};b.race=function(e){return new b(function(g,k){for(var p=F(e),q=p.next();!q.done;q=p.next())f(q.value).C(g,k)})};b.all=function(e){var g=F(e),k=g.next();return k.done?f([]):new b(function(p,q){function w(I){return function(L){B[I]=L;H--;H==0&&p(B)}}var B=[],H=0;do B.push(void 0),H++,f(k.value).C(w(B.length-1),q),k=g.next();while(!k.done)})};return b});
function O(a,b){return Object.prototype.hasOwnProperty.call(a,b)}
A("WeakMap",function(a){function b(k){this.g=(g+=Math.random()+1).toString();if(k){k=F(k);for(var p;!(p=k.next()).done;)p=p.value,this.set(p[0],p[1])}}function c(){}function f(k){var p=typeof k;return p==="object"&&k!==null||p==="function"}function h(k){if(!O(k,e)){var p=new c;ba(k,e,{value:p})}}function m(k){var p=Object[k];p&&(Object[k]=function(q){if(q instanceof c)return q;Object.isExtensible(q)&&h(q);return p(q)})}if(function(){if(!a||!Object.seal)return!1;try{var k=Object.seal({}),p=Object.seal({}),
q=new a([[k,2],[p,3]]);if(q.get(k)!=2||q.get(p)!=3)return!1;q.delete(k);q.set(p,4);return!q.has(k)&&q.get(p)==4}catch(w){return!1}}())return a;var e="$jscomp_hidden_"+Math.random();m("freeze");m("preventExtensions");m("seal");var g=0;b.prototype.set=function(k,p){if(!f(k))throw Error("Invalid WeakMap key");h(k);if(!O(k,e))throw Error("WeakMap key fail: "+k);k[e][this.g]=p;return this};b.prototype.get=function(k){return f(k)&&O(k,e)?k[e][this.g]:void 0};b.prototype.has=function(k){return f(k)&&O(k,
e)&&O(k[e],this.g)};b.prototype.delete=function(k){return f(k)&&O(k,e)&&O(k[e],this.g)?delete k[e][this.g]:!1};return b});
A("Map",function(a){function b(){var g={};return g.o=g.next=g.head=g}function c(g,k){var p=g[1];return Fa(function(){if(p){for(;p.head!=g[1];)p=p.o;for(;p.next!=p.head;)return p=p.next,{done:!1,value:k(p)};p=null}return{done:!0,value:void 0}})}function f(g,k){var p=k&&typeof k;p=="object"||p=="function"?m.has(k)?p=m.get(k):(p=""+ ++e,m.set(k,p)):p="p_"+k;var q=g[0][p];if(q&&O(g[0],p))for(g=0;g<q.length;g++){var w=q[g];if(k!==k&&w.key!==w.key||k===w.key)return{id:p,list:q,index:g,entry:w}}return{id:p,
list:q,index:-1,entry:void 0}}function h(g){this[0]={};this[1]=b();this.size=0;if(g){g=F(g);for(var k;!(k=g.next()).done;)k=k.value,this.set(k[0],k[1])}}if(function(){if(!a||typeof a!="function"||!a.prototype.entries||typeof Object.seal!="function")return!1;try{var g=Object.seal({x:4}),k=new a(F([[g,"s"]]));if(k.get(g)!="s"||k.size!=1||k.get({x:4})||k.set({x:4},"t")!=k||k.size!=2)return!1;var p=k.entries(),q=p.next();if(q.done||q.value[0]!=g||q.value[1]!="s")return!1;q=p.next();return q.done||q.value[0].x!=
4||q.value[1]!="t"||!p.next().done?!1:!0}catch(w){return!1}}())return a;var m=new WeakMap;h.prototype.set=function(g,k){g=g===0?0:g;var p=f(this,g);p.list||(p.list=this[0][p.id]=[]);p.entry?p.entry.value=k:(p.entry={next:this[1],o:this[1].o,head:this[1],key:g,value:k},p.list.push(p.entry),this[1].o.next=p.entry,this[1].o=p.entry,this.size++);return this};h.prototype.delete=function(g){g=f(this,g);return g.entry&&g.list?(g.list.splice(g.index,1),g.list.length||delete this[0][g.id],g.entry.o.next=g.entry.next,
g.entry.next.o=g.entry.o,g.entry.head=null,this.size--,!0):!1};h.prototype.clear=function(){this[0]={};this[1]=this[1].o=b();this.size=0};h.prototype.has=function(g){return!!f(this,g).entry};h.prototype.get=function(g){return(g=f(this,g).entry)&&g.value};h.prototype.entries=function(){return c(this,function(g){return[g.key,g.value]})};h.prototype.keys=function(){return c(this,function(g){return g.key})};h.prototype.values=function(){return c(this,function(g){return g.value})};h.prototype.forEach=
function(g,k){for(var p=this.entries(),q;!(q=p.next()).done;)q=q.value,g.call(k,q[1],q[0],this)};h.prototype[Symbol.iterator]=h.prototype.entries;var e=0;return h});
A("Set",function(a){function b(c){this.g=new Map;if(c){c=F(c);for(var f;!(f=c.next()).done;)this.add(f.value)}this.size=this.g.size}if(function(){if(!a||typeof a!="function"||!a.prototype.entries||typeof Object.seal!="function")return!1;try{var c=Object.seal({x:4}),f=new a(F([c]));if(!f.has(c)||f.size!=1||f.add(c)!=f||f.size!=1||f.add({x:4})!=f||f.size!=2)return!1;var h=f.entries(),m=h.next();if(m.done||m.value[0]!=c||m.value[1]!=c)return!1;m=h.next();return m.done||m.value[0]==c||m.value[0].x!=4||
m.value[1]!=m.value[0]?!1:h.next().done}catch(e){return!1}}())return a;b.prototype.add=function(c){c=c===0?0:c;this.g.set(c,c);this.size=this.g.size;return this};b.prototype.delete=function(c){c=this.g.delete(c);this.size=this.g.size;return c};b.prototype.clear=function(){this.g.clear();this.size=0};b.prototype.has=function(c){return this.g.has(c)};b.prototype.entries=function(){return this.g.entries()};b.prototype.values=function(){return this.g.values()};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=
b.prototype.values;b.prototype.forEach=function(c,f){var h=this;this.g.forEach(function(m){return c.call(f,m,m,h)})};return b});A("Object.values",function(a){return a?a:function(b){var c=[],f;for(f in b)O(b,f)&&c.push(b[f]);return c}});A("Object.is",function(a){return a?a:function(b,c){return b===c?b!==0||1/b===1/c:b!==b&&c!==c}});
A("Array.prototype.includes",function(a){return a?a:function(b,c){var f=this;f instanceof String&&(f=String(f));var h=f.length;c=c||0;for(c<0&&(c=Math.max(c+h,0));c<h;c++){var m=f[c];if(m===b||Object.is(m,b))return!0}return!1}});function Ga(a,b,c){if(a==null)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""}
A("String.prototype.includes",function(a){return a?a:function(b,c){return Ga(this,b,"includes").indexOf(b,c||0)!==-1}});A("Object.entries",function(a){return a?a:function(b){var c=[],f;for(f in b)O(b,f)&&c.push([f,b[f]]);return c}});A("Number.isFinite",function(a){return a?a:function(b){return typeof b!=="number"?!1:!isNaN(b)&&b!==Infinity&&b!==-Infinity}});A("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991});A("Number.MIN_SAFE_INTEGER",function(){return-9007199254740991});
A("String.prototype.startsWith",function(a){return a?a:function(b,c){var f=Ga(this,b,"startsWith"),h=f.length,m=b.length;c=Math.max(0,Math.min(c|0,f.length));for(var e=0;e<m&&c<h;)if(f[c++]!=b[e++])return!1;return e>=m}});function Ha(a,b){a instanceof String&&(a+="");var c=0,f=!1,h={next:function(){if(!f&&c<a.length){var m=c++;return{value:b(m,a[m]),done:!1}}f=!0;return{done:!0,value:void 0}}};h[Symbol.iterator]=function(){return h};return h}
A("Array.prototype.entries",function(a){return a?a:function(){return Ha(this,function(b,c){return[b,c]})}});A("Number.isNaN",function(a){return a?a:function(b){return typeof b==="number"&&isNaN(b)}});A("Array.prototype.keys",function(a){return a?a:function(){return Ha(this,function(b){return b})}});A("Array.prototype.values",function(a){return a?a:function(){return Ha(this,function(b,c){return c})}});
A("String.prototype.replaceAll",function(a){return a?a:function(b,c){if(b instanceof RegExp&&!b.global)throw new TypeError("String.prototype.replaceAll called with a non-global RegExp argument.");return b instanceof RegExp?this.replace(b,c):this.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c)}});/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var Ia=this||self;function Ja(a){Ia.setTimeout(function(){throw a;},0)};var Ka,La;a:{for(var Ma=["CLOSURE_FLAGS"],Na=Ia,Oa=0;Oa<Ma.length;Oa++)if(Na=Na[Ma[Oa]],Na==null){La=null;break a}La=Na}var Pa=La&&La[748402147];Ka=Pa!=null?Pa:!0;var Qa=void 0;var $a=typeof Symbol==="function"&&typeof Symbol()==="symbol";function ab(a,b,c){return typeof Symbol==="function"&&typeof Symbol()==="symbol"?(c===void 0?0:c)&&Symbol.for&&a?Symbol.for(a):a!=null?Symbol(a):Symbol():b}var bb=ab("jas",void 0,!0),cb=ab(void 0,"1oa"),db=ab(void 0,"0actk"),eb=ab("m_m","O",!0);var fb={L:{value:0,configurable:!0,writable:!0,enumerable:!1}},gb=Object.defineProperties,Q=$a?bb:"L";function hb(a,b){$a||Q in a||gb(a,fb);a[Q]|=b}function T(a,b){$a||Q in a||gb(a,fb);a[Q]=b};var ib={};function U(a,b){return b===void 0?a.g!==V&&!!(2&(a.j[Q]|0)):!!(2&b)&&a.g!==V}var V={};var jb=typeof Ia.BigInt==="function"&&typeof Ia.BigInt(0)==="bigint";var kb=Number.MIN_SAFE_INTEGER.toString(),lb=jb?BigInt(Number.MIN_SAFE_INTEGER):void 0,mb=Number.MAX_SAFE_INTEGER.toString(),nb=jb?BigInt(Number.MAX_SAFE_INTEGER):void 0;function ob(a,b){if(a.length>b.length)return!1;if(a.length<b.length||a===b)return!0;for(var c=0;c<a.length;c++){var f=a[c],h=b[c];if(f>h)return!1;if(f<h)return!0}};function pb(a){return a};function qb(a,b,c,f){var h=f!==void 0;f=!!f;var m=[],e=a.length,g=4294967295,k=!1,p=!!(b&64),q=p?b&128?0:-1:void 0;if(!(b&1)){var w=e&&a[e-1];w!=null&&typeof w==="object"&&w.constructor===Object?(e--,g=e):w=void 0;if(p&&!(b&128)&&!h){k=!0;var B;g=((B=rb)!=null?B:pb)(g-q,q,a,w,void 0)+q}}b=void 0;for(h=0;h<e;h++)if(B=a[h],B!=null&&(B=c(B,f))!=null)if(p&&h>=g){var H=h-q,I=void 0;((I=b)!=null?I:b={})[H]=B}else m[h]=B;if(w)for(var L in w)a=w[L],a!=null&&(a=c(a,f))!=null&&(e=+L,h=void 0,p&&!Number.isNaN(e)&&
(h=e+q)<g?m[h]=a:(e=void 0,((e=b)!=null?e:b={})[L]=a));b&&(k?m.push(b):m[g]=b);return m}function sb(a){switch(typeof a){case "number":return Number.isFinite(a)?a:""+a;case "bigint":return(jb?a>=lb&&a<=nb:a[0]==="-"?ob(a,kb):ob(a,mb))?Number(a):""+a;case "boolean":return a?1:0;case "object":if(Array.isArray(a)){var b=a[Q]|0;return a.length===0&&b&1?void 0:qb(a,b,sb)}if(a!=null&&a[eb]===ib)return tb(a);return}return a}var rb;function tb(a){a=a.j;return qb(a,a[Q]|0,sb)};function Y(a,b,c,f){f=f===void 0?0:f;if(a==null){var h=32;c?(a=[c],h|=128):a=[];b&&(h=h&-16760833|(b&1023)<<14)}else{if(!Array.isArray(a))throw Error("narr");h=a[Q]|0;if(Ka&&1&h)throw Error("rfarr");2048&h&&!(2&h)&&ub();if(h&256)throw Error("farr");if(h&64)return(h|f)!==h&&T(a,h|f),a;if(c&&(h|=128,c!==a[0]))throw Error("mid");a:{c=a;h|=64;var m=c.length;if(m){var e=m-1,g=c[e];if(g!=null&&typeof g==="object"&&g.constructor===Object){b=h&128?0:-1;e-=b;if(e>=1024)throw Error("pvtlmt");for(var k in g)m=
+k,m<e&&(c[m+b]=g[k],delete g[k]);h=h&-16760833|(e&1023)<<14;break a}}if(b){k=Math.max(b,m-(h&128?0:-1));if(k>1024)throw Error("spvt");h=h&-16760833|(k&1023)<<14}}}T(a,h|64|f);return a}function ub(){if(Ka)throw Error("carr");if(db!=null){var a;var b=(a=Qa)!=null?a:Qa={};a=b[db]||0;a>=5||(b[db]=a+1,b=Error(),b.__closure__error__context__984382||(b.__closure__error__context__984382={}),b.__closure__error__context__984382.severity="incident",Ja(b))}};function vb(a,b){if(typeof a!=="object")return a;if(Array.isArray(a)){var c=a[Q]|0;a.length===0&&c&1?a=void 0:c&2||(!b||4096&c||16&c?a=wb(a,c,!1,b&&!(c&16)):(hb(a,34),c&4&&Object.freeze(a)));return a}if(a!=null&&a[eb]===ib)return b=a.j,c=b[Q]|0,U(a,c)?a:xb(a,b,c)?yb(a,b):wb(b,c)}function yb(a,b,c){a=new a.constructor(b);c&&(a.g=V);a.h=V;return a}function wb(a,b,c,f){f!=null||(f=!!(34&b));a=qb(a,b,vb,f);f=32;c&&(f|=2);b=b&16769217|f;T(a,b);return a}
function zb(a){if(a.g!==V)return!1;var b=a.j;b=wb(b,b[Q]|0);hb(b,2048);a.j=b;a.g=void 0;a.h=void 0;return!0}function Ab(a){if(!zb(a)&&U(a,a.j[Q]|0))throw Error();}function Bb(a,b){b===void 0&&(b=a[Q]|0);b&32&&!(b&4096)&&T(a,b|4096)}function xb(a,b,c){return c&2?!0:c&32&&!(c&4096)?(T(b,c|2),a.g=V,!0):!1};function Cb(a,b,c,f){if(b===-1)return null;var h=b+(c?0:-1),m=a.length-1;if(!(m<1+(c?0:-1))){if(h>=m){var e=a[m];if(e!=null&&typeof e==="object"&&e.constructor===Object){c=e[b];var g=!0}else if(h===m)c=e;else return}else c=a[h];if(f&&c!=null){f=f(c);if(f==null)return f;if(!Object.is(f,c))return g?e[b]=f:a[h]=f,f}return c}}
function Db(a,b,c,f){var h=c+-1,m=a.length-1;if(m>=0&&h>=m){var e=a[m];if(e!=null&&typeof e==="object"&&e.constructor===Object)return e[c]=f,b}if(h<=m)return a[h]=f,b;if(f!==void 0){var g;m=((g=b)!=null?g:b=a[Q]|0)>>14&1023||536870912;c>=m?f!=null&&(h={},a[m+-1]=(h[c]=f,h)):a[h]=f}return b}function Eb(a){if($a){var b;return(b=a[cb])!=null?b:a[cb]=new Map}if(cb in a)return a[cb];b=new Map;Object.defineProperty(a,cb,{value:b});return b}
function $b(a,b,c){var f=ac,h=a.get(f);if(h!=null)return h;for(var m=h=0;m<f.length;m++){var e=f[m];Cb(b,e)!=null&&(h!==0&&(c=Db(b,c,h)),h=e)}a.set(f,h);return h}function bc(a,b,c,f){var h=!1;f=Cb(a,f,void 0,function(m){if(m!=null&&m[eb]===ib)var e=m;else if(Array.isArray(m)){e=m[Q]|0;var g=e|b&32;g|=b&2;g!==e&&T(m,g);e=new c(m)}else e=void 0;h=e!==m&&e!=null;return e});if(f!=null)return h&&!U(f)&&Bb(a,b),f}
function cc(a,b,c){var f=a.j,h=f[Q]|0;b=bc(f,h,b,c);if(b==null)return b;h=f[Q]|0;if(!U(a,h)){var m=b;var e=m.j,g=e[Q]|0;m=U(m,g)?xb(m,e,g)?yb(m,e,!0):new m.constructor(wb(e,g,!1)):m;m!==b&&(zb(a)&&(f=a.j,h=f[Q]|0),b=m,h=Db(f,h,c,b),Bb(f,h))}return b}function dc(a){a==null&&(a=void 0);return a};function Z(a,b,c){this.j=Y(a,b,c,2048)}Z.prototype.toJSON=function(){return tb(this)};Z.prototype[eb]=ib;Z.prototype.toString=function(){return this.j.toString()};function ec(a){this.j=Y(a,void 0,void 0,2048)}E(ec,Z);function fc(a){this.j=Y(a,void 0,void 0,2048)}E(fc,Z);function hc(a){this.j=Y(a,void 0,void 0,2048)}E(hc,Z);function ic(a){this.j=Y(a,void 0,void 0,2048)}E(ic,Z);function jc(a){this.j=Y(a,void 0,void 0,2048)}E(jc,Z);var ac=[1,2,3];/*

 Copyright Google LLC
 SPDX-License-Identifier: Apache-2.0
*/
var kc=globalThis.trustedTypes,lc;function mc(){var a=null;if(!kc)return a;try{var b=function(c){return c};a=kc.createPolicy("goog#html",{createHTML:b,createScript:b,createScriptURL:b})}catch(c){}return a};function nc(a){this.g=a}nc.prototype.toString=function(){return this.g+""};function oc(a){var b;lc===void 0&&(lc=mc());a=(b=lc)?b.createScriptURL(a):a;return new nc(a)};function pc(a){this.h=a}pc.prototype.toString=function(){return this.h};function qc(a){var b=window;if(typeof MediaSource!=="undefined"&&a instanceof MediaSource||typeof b.ManagedMediaSource!=="undefined"&&a instanceof b.ManagedMediaSource)return a=URL.createObjectURL(a),new pc(a);b=a.type;b.toLowerCase()==="application/octet-stream"?b=!0:(b=b.match(/^([^;]+)(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i),b=(b==null?void 0:b.length)===2&&(/^image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon|heic|heif|avif|x-ms-bmp)$/i.test(b[1])||/^video\/(?:3gpp|avi|mpeg|mpg|mp4|ogg|webm|x-flv|x-matroska|quicktime|x-ms-wmv)$/i.test(b[1])||
/^audio\/(?:3gpp2|3gpp|aac|amr|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)$/i.test(b[1])||/^font\/[\w-]+$/i.test(b[1])));if(!b)throw Error("");a=URL.createObjectURL(a);return new pc(a)}var rc=/^\s*(?!javascript:)(?:[\w+.-]+:|[^:/?#]*(?:[/?#]|$))/i;function sc(a){if(a instanceof pc)if(a instanceof pc)a=a.h;else throw Error("");else a=rc.test(a)?a:void 0;return a};var tc="alternate author bookmark canonical cite help icon license modulepreload next prefetch dns-prefetch prerender preconnect preload prev search subresource".split(" ");function uc(a,b){if(b instanceof nc){if(b instanceof nc)b=b.g;else throw Error("");a.href=b.toString();a.rel="stylesheet"}else{if(tc.indexOf("stylesheet")===-1)throw Error('TrustedResourceUrl href attribute required with rel="stylesheet"');b=sc(b);b!==void 0&&(a.href=b,a.rel="stylesheet")}};function vc(){window.addEventListener("click",function(a){for(var b=document.elementsFromPoint(a.clientX,a.clientY).filter(function(h){return h instanceof HTMLButtonElement&&h.classList.contains("dyn-img-attribution-button-di-script")?!wc(h):!1}),c=F(b),f=c.next();!f.done;f=c.next())if(f.value===a.target)return;b.length>0&&(b.length>1&&console.debug("More than 1 attribution button found covered, only triggering the first one."),a=b[0],console.debug("Triggering covered attribution button"),a.click())})}
function xc(a,b){b.addEventListener("click",function(c){c.stopPropagation();c=new jc;var f=new ic,h=a,m=h=dc(h);Ab(f);var e=f.j;Db(e,e[Q]|0,1,m);h&&!U(h)&&Bb(f.j);f=dc(f);a:{Ab(c);h=c.j;m=h[Q]|0;if(f==null)if(e=Eb(h),$b(e,h,m)===2)e.set(ac,0);else break a;else{e=Eb(h);var g=$b(e,h,m);g!==2&&(g&&(m=Db(h,m,g)),e.set(ac,2))}Db(h,m,2,f)}f&&!U(f)&&Bb(c.j);c=JSON.stringify(tb(c));window.parent.postMessage({source:"__geminigo_renderer",payload:c},"*")})}
function wc(a){a=getComputedStyle(a);return a.display==="none"||a.visibility==="hidden"||a.opacity==="0"};var yc=function(a){return function(b){b=JSON.parse(b);if(!Array.isArray(b)){var c=typeof b;throw Error("Expected jspb data to be an array, got "+(c!="object"?c:b?Array.isArray(b)?"array":c:"null")+": "+b);}hb(b,34);return new a(b)}}(hc);function zc(a){var b=Ea.apply(1,arguments);if(b.length===0)return oc(a[0]);for(var c=a[0],f=0;f<b.length;f++)c+=encodeURIComponent(b[f])+a[f+1];return oc(c)};var Ac=qa(["https://fonts.googleapis.com/css2?family=Google+Symbols:opsz,wght,FILL,GRAD,ROND@24,400,0,0,50&icon_names=link"]),Bc=qa(["https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=open_in_full"]);
(function(){function a(d){return"data:image/svg+xml;base64,"+btoa(d.replace("\n"," ").replace(/\s+/g," "))}function b(d){var l;(l=M)==null||l.call(d,Fb);d.style.objectFit="fill"}function c(d){d.style.backgroundSize="100% 100%";d.style.backgroundImage="url("+Fb+")"}function f(d){var l=d.parentElement;if(l&&l.classList.contains("dyn-img-link-wrapper-di-script")){var n=l.querySelector(".dyn-img-inline-attribution-di-script");if(n){var r=r===void 0?333:r;wc(d)?n.style.display="none":d.getBoundingClientRect().width>=
r?n.style.display="inline-block":n.style.display="none"}if(l=l.querySelector(".dyn-img-attribution-button-di-script"))l.style.display=wc(d)?"none":"flex"}}function h(){if(!document.getElementById("dyn-img-link-styles-di-script")){var d=document.createElement("link");d.type="text/css";document.querySelector('link[href*="family=Google+Symbols"]')?console.debug("Google Symbols already imported, skipping import."):(uc(d,zc(Ac)),document.head.appendChild(d));document.querySelector('link[href*="family=Material+Symbols+Outlined"]')?
console.debug("Material Symbols already imported, skipping import."):(d=document.createElement("link"),uc(d,zc(Bc)),document.head.appendChild(d));d=document.createElement("style");d.id="dyn-img-link-styles-di-script";d.textContent="\n      .dyn-img-link-wrapper-di-script {\n        anchor-scope: all;\n        display: contents;\n        position: relative;\n        z-index: 1;\n      }\n\n      .dyn-img-link-wrapper-di-script img {\n        anchor-name: --photo;\n        display: block;\n        max-width: 100%;\n      }\n\n      .dyn-img-link-di-script {\n        z-index: 999999;\n        background-color: rgba(0, 0, 0, 0.5);\n        border-radius: 9999px;\n        box-shadow: 0 1px 2px rgba(0,0,0,0.2);\n        color: white;\n        height: clamp(13px, calc(max(anchor-size(width), anchor-size(height)) * 0.3), 21px);\n        width: clamp(13px, calc(max(anchor-size(width), anchor-size(height)) * 0.3), 21px);\n        padding: 4px;\n        position: absolute;\n\n        bottom: anchor(bottom);\n        left: anchor(left);\n        margin-left: 10px;\n        margin-bottom: 10px;\n\n        transition: background-color 0.2s ease-in-out;\n      }\n\n      .dyn-img-link-di-script:hover {\n        background-color: rgba(0, 0, 0, 0.8);\n      }\n\n      .dyn-img-link-di-script span {\n        font-size: 14px;\n        vertical-align: top;\n      }\n\n      .dyn-img-attribution-button-di-script {\n        z-index: 999999;\n        background-color: rgba(0, 0, 0, 0.5);\n        border-radius: 9999px;\n        box-shadow: 0 1px 2px rgba(0,0,0,0.2);\n        color: white;\n        width: clamp(13px, calc(max(anchor-size(width), anchor-size(height)) * 0.3), 21px);\n        height: clamp(13px, calc(max(anchor-size(width), anchor-size(height)) * 0.3), 21px);\n        padding: 4px;\n\n        position: absolute;\n        position-anchor: --photo;\n        top: anchor(top);\n        right: anchor(right);\n        margin-top: 10px;\n        margin-right: 10px;\n\n        transition: background-color 0.2s ease-in-out;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .dyn-img-attribution-button-di-script:hover {\n        background-color: rgba(0, 0, 0, 0.8);\n      }\n\n      .dyn-img-attribution-button-di-script span {\n        font-size: 14px;\n        vertical-align: top;\n      }\n\n      .dyn-img-inline-attribution-di-script {\n        z-index: 999999;\n        font-size: 12px;\n        padding: 4px;\n        display: none;\n\n        position: absolute;\n        position-anchor: --photo;\n        bottom: anchor(bottom);\n        right: anchor(right);\n        margin-bottom: 8px;\n        margin-right: 8px;\n\n        max-width: 200px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        text-align: right;\n\n        white-space: nowrap;\n        background-color: rgba(0, 0, 0, 0.8);\n        border-radius: 9999px;\n        box-shadow: 0 1px 2px rgba(0,0,0,0.2);\n        color: white;\n      }\n    ";
document.head.appendChild(d)}}function m(d,l){l=d=(d.get(l)||"").trim();((l.match(/(([a-z]|'|%27)[a-z]|a)\+[a-z]{2}/gi)||[]).length>=2||!l.includes(" ")&&!l.includes("%20"))&&(d=d.replaceAll("+","%20"));return decodeURIComponent(d).trim()}function e(d){d=H(d,"/image?");var l=new URLSearchParams(d);d=m(l,"query");return(l=l.get("aspect"))&&l!=="1:1"?d+"&aspect="+l:d}function g(d){d=H(d,"/gen?");var l=new URLSearchParams(d);d=m(l,"prompt");var n=l.get("aspect");n&&n!=="1:1"&&(d+="&aspect="+n);(n=l.get("context_image_idx"))&&
(d+="&context_image_idx="+n.split(",").map(Number).sort(function(r,u){return r-u}).join(","));(l=l.get("reimagine"))&&(d+="&reimagine="+l);return d}function k(d){return d.replace(/&aspect=\d+:\d+/,"")}function p(d){d=d.replace(/[^a-zA-Z0-9-_]/g," ");return"data:image/svg+xml,"+encodeURIComponent('<svg width="512" height="512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n      <style>\n        .s { stroke:#E57373; stroke-width:30; fill:none; stroke-linecap:round }\n        .t { font:bold 68px Arial; text-anchor:middle; dominant-baseline:middle }\n      </style>\n      <g class="s">\n        <circle cx="256" cy="256" r="230"/>\n        <path d="M120 120L392 392M392 120L120 392"/>\n      </g>\n      <text class="t" x="50%" y="50%">'+
d+"</text>\n    </svg>")}function q(d){var l,n,r,u,t,C,D;return N(function(v){switch(v.g){case 1:if(!d.startsWith("data:")){v.g=2;break}return G(v,fetch(d),3);case 3:return l=v.h,v.return(l.blob());case 2:n=new URL(d+"=s1024"),n.searchParams.set("alr","yes"),((r=window.geminiGoConstants)==null?0:r.authUserSessionIndex)&&n.searchParams.set("authuser",window.geminiGoConstants.authUserSessionIndex.toString()),u=0;case 4:if(!(u<5)){v.g=6;break}return G(v,fetch(n.toString(),{credentials:"include"}),7);
case 7:t=v.h;if(!t.ok)throw Error("Fetch using ALR received not OK response");C=void 0;if((C=t.headers.get("content-type"))==null?0:C.startsWith("text/plain")){v.g=8;break}return G(v,t.blob(),9);case 9:return D=v.h,v.return(D);case 8:return G(v,t.text(),10);case 10:n=new URL(v.h);u++;v.g=4;break;case 6:throw Error("Fetch using ALR exceeded maximum number of redirects");}})}function w(d,l,n){var r=k(d);return d in l?l[d]:r in n?l[n[r]]:null}function B(d){if(!document.baseURI||!d||d.startsWith("/"))return d;
var l=(new URL(document.baseURI)).origin;return H(d,l)}function H(d,l){return d.startsWith(l)?d.slice(l.length):d}function I(d,l){d=F(Object.keys(d));for(var n=d.next();!n.done;n=d.next())n=n.value,l[k(n)]=n;d=F(Object.keys(IMG_SEARCH_REPLACE_MAP));for(n=d.next();!n.done;n=d.next())n=n.value,n.includes("&aspect=")||(l[k(n)]=n)}function L(){for(var d=F(Object.entries(IMG_GEN_REPLACE_MAP)),l=d.next(),n={};!l.done;n={A:void 0},l=d.next()){var r=F(l.value);l=r.next().value;r=r.next().value;n.A=l;l=r;
l.startsWith("data:text/plain;utf-8,")?K.i[n.A]=p(l.slice(22)):(K.h[n.A]=q(l),K.h[n.A].then(function(u){return function(){K.l.add(u.A)}}(n)))}}function Gb(d){if(!d.startsWith("/image?query=")||!IMG_SEARCH_REIMAGINE_PARAM)return d;var l=e(d);return w(l,IMG_SEARCH_REPLACE_MAP,va)?d:"/gen?prompt="+H(d,"/image?query=")+"&reimagine="+IMG_SEARCH_REIMAGINE_PARAM}function Ra(d){var l,n,r,u;return N(function(t){if(t.g==1){l=g(d);if(n=K.i[l])return console.debug("Returning error url for prompt: ",prompt),t.return(n);
r=w(l,K.h,K.g);if(!r)return console.debug("No image found for prompt: ",prompt),t.return("");u=qc;return G(t,r,2)}return t.return(u(t.h).toString())})}function Hb(d,l){var n=d.style.opacity;if(d.offsetParent===null||n!==""&&Number(n)<=.15){var r;(r=M)==null||r.call(d,l)}else{n=new Image;n.onload=function(){var t=d.style.transition,C=d.style.opacity;d.style.transition="none";d.style.opacity="0";var D;(D=M)==null||D.call(d,l);setTimeout(function(){d.style.transition="opacity 0.2s ease-in-out";d.style.opacity=
"1";setTimeout(function(){d.style.transition=t;C==="0"?console.debug("Unexpected: orgOpacity of 0."):d.style.opacity=C;var v=d.getAttribute("go-aspect-ratio");d.style.aspectRatio=v?v:""},250)},10)};var u;(u=M)==null||u.call(n,l)}}function Cc(d,l){var n,r,u,t,C,D,v,x;return N(function(y){switch(y.g){case 1:y.m=2;var da=n=g(l),P=K.l,Sa=K.g,ea=k(da);if(!P.has(da)&&!P.has(Sa[ea])){y.g=4;break}return G(y,Ra(l),5);case 5:if(r=y.h)return(u=M)==null||u.call(d,r),y.return();case 4:return(t=M)==null||t.call(d,
Ta),(C=l.match(/aspectRatio=(\d+:\d+)$/))&&C[1]!=="1:1"&&(D=C[1].replace(":","/"),d.setAttribute("go-aspect-ratio",d.style.aspectRatio),d.style.aspectRatio=D),G(y,Ra(l),6);case 6:v=y.h;if(!v)return console.debug("No gen image found for prompt: ",l),b(d),y.return();Hb(d,v);y.g=0;y.m=0;break;case 2:x=ya(y),console.debug("Error replacing generated image src",x),y.g=0}})}function Dc(d,l){var n,r,u,t,C,D,v,x,y,da,P,Sa,ea,fa,Ib,Jb,Kb,Lb,Ua;return N(function(Mb){try{n=e(l);r=w(n,IMG_SEARCH_REPLACE_MAP,va);
u=w(n,IMG_SEARCH_ATTRIBUTION_MAP,Nb);t=null;u&&(t=yc(u));if(!r)return console.debug("no image search found for key: ",n),b(d),Mb.return();C=F(r);D=C.next().value;v=C.next().value;x=D;y=v;da=window.getComputedStyle(d);if(Sa=(P=d.parentElement)&&P.classList.contains("dyn-img-link-wrapper-di-script")){if(ea=P.querySelector(".dyn-img-link-di-script")){var Ob=sc(y);Ob!==void 0&&(ea.href=Ob);ea.title="Image Source: "+y}if((fa=P.querySelector(".dyn-img-attribution-button-di-script"))&&t){var ha=t,W=fa.cloneNode(!0);
fa.parentNode?fa.parentNode.replaceChild(W,fa):console.debug("Cannot replace image attribution button.");xc(ha,W)}else console.debug("Unable to update button event listener.");P.style.borderRadius=da.borderRadius;(Ib=M)==null||Ib.call(d,x)}else{Date.now()<Pb+500?((Jb=M)==null||Jb.call(d,Ta),Hb(d,x)):(Kb=M)==null||Kb.call(d,x);if(t){W=t;var ia=document.createElement("button");ia.className="dyn-img-attribution-button-di-script";ia.title="Image Attribution";xc(W,ia);var Va=document.createElement("span");
Va.className="material-symbols-outlined";Va.textContent="open_in_full";ia.appendChild(Va);var Qb=ia}else{var R=document.createElement("a");R.className="dyn-img-link-di-script";R.target="_blank";R.rel="noopener noreferrer";var Rb=sc(y);Rb!==void 0&&(R.href=Rb);R.title="Image Source: "+y;var Wa=document.createElement("span");Wa.className="google-symbols";Wa.textContent="link";R.appendChild(Wa);Qb=R}Lb=Qb;if(t){var Sb,Tb;if((Sb=cc(t,fc,14))==null)var Ub=void 0;else{if((Tb=cc(Sb,ec,2))==null)var Vb=void 0;
else{var Xa=Xa===void 0?"":Xa;var Wb=Cb(Tb.j,1);var Ya=Wb!==null?Wb:void 0;var Xb=Ya==null||typeof Ya==="string"?Ya:void 0;Vb=Xb!=null?Xb:Xa}Ub=Vb}if(W=Ub){var Za=document.createElement("span");Za.className="dyn-img-inline-attribution-di-script";Za.textContent=W;ha=Za}else ha=null}else ha=null;Ua=ha;var Ec=window.getComputedStyle(d),X=document.createElement("div");X.className="dyn-img-link-wrapper-di-script";X.style.borderRadius=Ec.borderRadius;d.parentNode&&(d.parentNode.insertBefore(X,d),X.appendChild(d),
X.appendChild(Lb),Ua&&X.appendChild(Ua));Fc.observe(d);Gc.observe(d,{attributes:!0,attributeFilter:["style","class"]})}}catch(Hc){console.debug("Error replacing search image src",Hc)}Mb.g=0})}function ja(d,l){l=l===void 0?!1:l;var n;return N(function(r){n=l?d.getAttribute("src"):d.getAttribute("go-data-src")||d.getAttribute("src");if(!n)return r.return();n=B(n);n=Gb(n);n.startsWith("/gen?prompt=")?(wa++,Cc(d,n)):n.startsWith("/image?query=")&&(wa++,Dc(d,n));r.g=0})}function Ic(d,l){var n,r,u,t,C,
D,v;return N(function(x){switch(x.g){case 1:n=null;x.m=2;d.style.backgroundImage="url('"+Ta+"')";if(!l.startsWith("/gen?prompt=")){r=e(l);u=w(r,IMG_SEARCH_REPLACE_MAP,va);if(!u)return console.debug("no image search found for key: ",r),c(d),x.return();t=F(u);n=D=C=t.next().value;x.g=4;break}return G(x,Ra(l),5);case 5:n=x.h;case 4:if(!n)return console.debug("No image found for: ",l),c(d),x.return();if(n===l)return console.debug("Unexpected: resolvedUrl is the same as placeholderUrl: ",n,l),c(d),x.return();
d.style.backgroundImage="url('"+n+"')";x.g=0;x.m=0;break;case 2:v=ya(x),console.debug("Error setting backgroundImage",v),x.g=0}})}function xa(d){var l,n,r;return N(function(u){if(!(d instanceof HTMLElement))return u.return();l=d;n=window.getComputedStyle(l);if(!n.backgroundImage||n.backgroundImage==="none")return u.return();var t=n.backgroundImage.match(/url\(['"]?(.*?)['"]?\)/);r=t?t[1]:null;if(!r)return u.return();r=B(r);if(!r.startsWith("/gen?prompt=")&&!r.startsWith("/image?query="))return u.return();
wa++;r=Gb(r);Ic(l,r);u.g=0})}function Jc(){(new MutationObserver(function(d,l){var n,r,u;return N(function(t){if(t.g==1){if(wa>1E4)return console.debug("Too many mutations, stopping mutation observer."),l.disconnect(),t.return();n=F(d);r=n.next()}if(t.g!=3){if(r.done){t.g=0;return}u=r.value;if(u.type==="childList"&&u.addedNodes.length>0){u.addedNodes.forEach(function(C){var D;return N(function(v){if(v.g==1){if(C.nodeType!==Node.ELEMENT_NODE){v.g=0;return}D=C;MAY_HAVE_BACKGROUND_IMAGE?v=G(v,xa(D),
3):(v.g=3,v=void 0);return v}if(D.tagName!=="IMG")D.querySelectorAll&&(MAY_HAVE_BACKGROUND_IMAGE&&D.querySelectorAll("*").forEach(function(x){return N(function(y){return G(y,xa(x),0)})}),D.querySelectorAll("img").forEach(function(x){return N(function(y){return G(y,ja(x),0)})})),v.g=0;else return G(v,ja(C),0)})});t.g=3;return}u.type==="attributes"&&u.attributeName==="src"?u.target.nodeType!==Node.ELEMENT_NODE||u.target.tagName!=="IMG"?(t.g=3,t=void 0):t=G(t,ja(u.target,!0),3):MAY_HAVE_BACKGROUND_IMAGE&&
u.type==="attributes"&&u.attributeName==="style"&&u.target.nodeType===Node.ELEMENT_NODE?t=G(t,xa(u.target),3):(t.g=3,t=void 0);return t}r=n.next();t.g=2})})).observe(document.body,{attributes:!0,attributeFilter:MAY_HAVE_BACKGROUND_IMAGE?["src","style"]:["src"],childList:!0,subtree:!0})}function Kc(){if(S&&S.set){var d=S.set;Object.defineProperty(HTMLImageElement.prototype,"src",{set:function(l){d.call(this,l);ja(this,!0)},get:S.get,enumerable:S.enumerable,configurable:S.configurable})}}function Yb(){return N(function(d){Pb=
Date.now();h();document.querySelectorAll("img").forEach(function(l){return N(function(n){return G(n,ja(l),0)})});MAY_HAVE_BACKGROUND_IMAGE&&document.querySelectorAll("*").forEach(function(l){return N(function(n){return G(n,xa(l),0)})});Jc();vc();d.g=0})}var Fb=a('\n    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" style="width:100%; height:100%;">\n      \x3c!-- Wrapper group for opacity --\x3e\n      <g opacity="0.4">\n        <g id="icon" fill="none" stroke="#aaaaaa" stroke-width="5.25" stroke-linecap="round">\n          <circle cx="50" cy="45" r="19"></circle>\n          <line x1="37" y1="32" x2="63" y2="58"></line>\n        </g>\n        <g id="text">\n          <text x="50" y="80" font-family="Arial, sans-serif" font-size="9" fill="#aaaaaa" text-anchor="middle" font-weight="600" font-style="italic">No image</text>\n        </g>\n      </g>\n    </svg>'),
Ta=a('\n<svg width="1024" height="1024" viewBox="0 0 100 100" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">\n  <defs>\n    <linearGradient id="g" x1="-100%" y1="0" x2="0" y2="0">\n      <stop offset="0" stop-color="#b0b0b0"/>\n      <stop offset=".5" stop-color="#f0f0f0"/>\n      <stop offset="1" stop-color="#b0b0b0"/>\n\n      <animateTransform id="a" \n                        attributeName="gradientTransform" \n                        type="translate" \n                        from="0" to="2" \n                        dur="1s" begin="0s"/>\n      <animateTransform id="b" \n                        attributeName="gradientTransform" \n                        type="translate" \n                        from="0" to="2" \n                        dur="1.5s" begin="a.end"/>\n      <animateTransform attributeName="gradientTransform" \n                        type="translate" \n                        from="0" to="2" \n                        dur="2s" begin="b.end" \n                        repeatCount="indefinite"/>\n    </linearGradient>\n  </defs>\n  \n  <rect width="100" height="100" fill="url(#g)"/>\n</svg>'),
Fc=new ResizeObserver(function(d){d=F(d);for(var l=d.next();!l.done;l=d.next())(l=l.value.target)&&f(l)}),Gc=new MutationObserver(function(d){var l=new Set;d=F(d);for(var n=d.next();!n.done;n=d.next())n=n.value,n.target&&l.add(n.target);l=F(l);for(d=l.next();!d.done;d=l.next())f(d.value)}),Pb=0,K=new function(){this.h={};this.i={};this.l=new Set;this.g={}},va={},Nb={},wa=0,S=Object.getOwnPropertyDescriptor(HTMLImageElement.prototype,"src"),Zb,M=(Zb=S)==null?void 0:Zb.set;(function(){return N(function(d){I(IMG_SEARCH_REPLACE_MAP,
va);I(IMG_SEARCH_ATTRIBUTION_MAP,Nb);I(IMG_GEN_REPLACE_MAP,K.g);L();Kc();d.g=0})})();document.readyState==="loading"?document.addEventListener("DOMContentLoaded",function(){Yb()}):Yb()})();}).call(this);

</script>


<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport">
<link rel="canonical" href="https://catdevman.github.io/pokewrite-battle-academy" />
<link rel="manifest" href="/pokewrite-battle-academy/manifest.webmanifest"/>
<title>PokWrite Battle Academy</title>
<script src="https://cdn.tailwindcss.com"></script>
<!-- Fonts: 'Press Start 2P' for Retro, 'Didact Gothic' for Writing -->
<link href="https://fonts.googleapis.com/css2?family=Didact+Gothic&amp;family=Press+Start+2P&amp;display=swap" rel="stylesheet">
<!-- Material Symbols -->
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,1,0" rel="stylesheet">
<!-- Tone.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
<style>
        /* --- Global & Background --- */
        body {
            background-color: #2a2a2a;
            background-image: radial-gradient(#333 15%, transparent 16%), radial-gradient(#333 15%, transparent 16%);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
            font-family: 'Press Start 2P', cursive;
            overscroll-behavior: none;
            touch-action: none;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
        }

        /* --- Pokedex Container --- */
        .pokedex-shell {
            background: #DC2626; /* Red-600 */
            border-radius: 20px;
            box-shadow: 
                inset 0 5px 10px rgba(255,255,255,0.3),
                inset 0 -5px 10px rgba(0,0,0,0.3),
                0 10px 20px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
            height: 100%;
            max-height: 900px;
            max-width: 1200px;
            margin: auto;
            position: relative;
        }

        @media (min-width: 768px) {
            .pokedex-shell {
                flex-direction: row;
                border-radius: 30px;
                padding: 20px;
                gap: 20px;
            }
        }

        /* --- The Big Screen (Left Panel) --- */
        .screen-container {
            flex: 2;
            background: #94A3B8; /* Bezel Color */
            border-radius: 15px 15px 0 0;
            padding: 15px;
            display: flex;
            flex-direction: column;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.4);
            position: relative;
        }
        
        @media (min-width: 768px) {
            .screen-container {
                border-radius: 15px;
                margin-bottom: 0;
            }
        }

        /* The Glass Area - Massive for writing */
        .screen-glass {
            background: #F1F5F9; /* Slate-100 */
            border: 4px solid #475569;
            border-radius: 8px;
            flex: 1; /* Take all remaining height */
            position: relative;
            overflow: hidden;
            cursor: crosshair;
            /* Subtle Grid */
            background-image: 
                linear-gradient(#CBD5E1 1px, transparent 1px),
                linear-gradient(90deg, #CBD5E1 1px, transparent 1px);
            background-size: 40px 40px;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.1);
        }

        /* Layers */
        canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            touch-action: none;
        }
        #guide-canvas { z-index: 10; pointer-events: none; }
        #ink-canvas { z-index: 20; }
        
        /* Sprite Watermark */
        .watermark-sprite {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60%;
            height: 60%;
            object-fit: contain;
            opacity: 0.15; /* Very faint so it doesn't interfere */
            pointer-events: none;
            z-index: 0;
            filter: grayscale(100%);
            transition: all 0.3s;
        }

        /* --- Right Panel (Controls) --- */
        .controls-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 10px;
            background: transparent;
            border-top: 4px solid #991B1B;
        }

        @media (min-width: 768px) {
            .controls-panel {
                border-top: none;
                border-left: 4px solid #991B1B;
                padding-left: 20px;
            }
        }

        /* HP Bar */
        .hp-bar-frame {
            background: #374151;
            border: 2px solid #111;
            border-radius: 10px;
            height: 20px;
            width: 100%;
            overflow: hidden;
            margin-top: 4px;
        }
        .hp-fill {
            height: 100%;
            background: linear-gradient(90deg, #22C55E, #16A34A);
            width: 100%;
            transition: width 0.5s ease-out;
        }

        /* D-Pad */
        .d-pad {
            width: 120px;
            height: 120px;
            position: relative;
            margin: 0 auto;
        }
        .d-btn {
            background: #1E293B;
            position: absolute;
            cursor: pointer;
            box-shadow: 0 4px 0 #0F172A;
            transition: transform 0.1s;
        }
        .d-btn:active { transform: scale(0.95); box-shadow: none; }
        .d-h { width: 40px; height: 40px; top: 40px; }
        .d-v { width: 40px; height: 40px; left: 40px; }
        .d-l { left: 0; border-radius: 5px 0 0 5px; }
        .d-r { right: 0; border-radius: 0 5px 5px 0; }
        .d-u { top: 0; border-radius: 5px 5px 0 0; }
        .d-d { bottom: 0; border-radius: 0 0 5px 5px; }
        .d-c { top: 40px; left: 40px; width: 40px; height: 40px; background: #1E293B; z-index: 2; }

        /* Action Buttons */
        .action-circle {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: grid;
            place-items: center;
            font-size: 12px;
            cursor: pointer;
            box-shadow: 0 4px 0 rgba(0,0,0,0.4);
            transition: all 0.1s;
        }
        .action-circle:active { transform: translateY(4px); box-shadow: none; }

        /* Sensor */
        .sensor-blue {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, #60A5FA, #2563EB);
            border: 4px solid #FFF;
            box-shadow: 0 0 10px #3B82F6;
            animation: pulse 3s infinite;
        }
        @keyframes pulse { 0%,100% { box-shadow: 0 0 10px #3B82F6; } 50% { box-shadow: 0 0 25px #60A5FA; } }

        /* Flash Animation */
        @keyframes attack-flash {
            0% { opacity: 1; background: white; }
            100% { opacity: 0; }
        }
        .flash-effect {
            position: absolute;
            inset: 0;
            background: white;
            z-index: 50;
            pointer-events: none;
            animation: attack-flash 0.2s forwards;
        }
    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.absolute{position:absolute}.-bottom-4{bottom:-1rem}.-top-4{top:-1rem}.left-1\/2{left:50%}.mb-1{margin-bottom:0.25rem}.mb-2{margin-bottom:0.5rem}.mb-3{margin-bottom:0.75rem}.mb-4{margin-bottom:1rem}.ml-4{margin-left:1rem}.ml-auto{margin-left:auto}.mt-0{margin-top:0px}.mt-2{margin-top:0.5rem}.flex{display:flex}.hidden{display:none}.h-3{height:0.75rem}.h-px{height:1px}.w-3{width:0.75rem}.w-32{width:8rem}.w-full{width:100%}.flex-1{flex:1 1 0%}.shrink-0{flex-shrink:0}.-translate-x-1\/2{--tw-translate-x:-50%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-rotate-6{--tw-rotate:-6deg;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite}.flex-col{flex-direction:column}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.gap-2{gap:0.5rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.rounded-b-lg{border-bottom-right-radius:0.5rem;border-bottom-left-radius:0.5rem}.rounded-t-lg{border-top-left-radius:0.5rem;border-top-right-radius:0.5rem}.border{border-width:1px}.border-2{border-width:2px}.border-4{border-width:4px}.border-x-4{border-left-width:4px;border-right-width:4px}.border-b-4{border-bottom-width:4px}.border-t-2{border-top-width:2px}.border-t-4{border-top-width:4px}.border-dashed{border-style:dashed}.border-blue-300{--tw-border-opacity:1;border-color:rgb(147 197 253 / var(--tw-border-opacity, 1))}.border-blue-800{--tw-border-opacity:1;border-color:rgb(30 64 175 / var(--tw-border-opacity, 1))}.border-green-900{--tw-border-opacity:1;border-color:rgb(20 83 45 / var(--tw-border-opacity, 1))}.border-red-900{--tw-border-opacity:1;border-color:rgb(127 29 29 / var(--tw-border-opacity, 1))}.border-slate-400{--tw-border-opacity:1;border-color:rgb(148 163 184 / var(--tw-border-opacity, 1))}.border-slate-600{--tw-border-opacity:1;border-color:rgb(71 85 105 / var(--tw-border-opacity, 1))}.border-yellow-900{--tw-border-opacity:1;border-color:rgb(113 63 18 / var(--tw-border-opacity, 1))}.bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-blue-300{--tw-bg-opacity:1;background-color:rgb(147 197 253 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-green-500{--tw-bg-opacity:1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}.bg-red-400{--tw-bg-opacity:1;background-color:rgb(248 113 113 / var(--tw-bg-opacity, 1))}.bg-red-500{--tw-bg-opacity:1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.bg-slate-800{--tw-bg-opacity:1;background-color:rgb(30 41 59 / var(--tw-bg-opacity, 1))}.bg-yellow-400{--tw-bg-opacity:1;background-color:rgb(250 204 21 / var(--tw-bg-opacity, 1))}.p-2{padding:0.5rem}.p-4{padding:1rem}.text-center{text-align:center}.text-right{text-align:right}.font-mono{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-\[10px\]{font-size:10px}.text-\[8px\]{font-size:8px}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xs{font-size:0.75rem;line-height:1rem}.font-bold{font-weight:700}.leading-none{line-height:1}.leading-relaxed{line-height:1.625}.text-green-400{--tw-text-opacity:1;color:rgb(74 222 128 / var(--tw-text-opacity, 1))}.text-green-500{--tw-text-opacity:1;color:rgb(34 197 94 / var(--tw-text-opacity, 1))}.text-red-400{--tw-text-opacity:1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.text-red-900{--tw-text-opacity:1;color:rgb(127 29 29 / var(--tw-text-opacity, 1))}.text-slate-400{--tw-text-opacity:1;color:rgb(148 163 184 / var(--tw-text-opacity, 1))}.text-slate-600{--tw-text-opacity:1;color:rgb(71 85 105 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-yellow-400{--tw-text-opacity:1;color:rgb(250 204 21 / var(--tw-text-opacity, 1))}.opacity-50{opacity:0.5}.shadow-inner{--tw-shadow:inset 0 2px 4px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:inset 0 2px 4px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}@media (min-width: 768px){.md\:block{display:block}.md\:p-6{padding:1.5rem}.md\:text-lg{font-size:1.125rem;line-height:1.75rem}}</style><link type="text/css" href="https://fonts.googleapis.com/css2?family=Google+Symbols:opsz,wght,FILL,GRAD,ROND@24,400,0,0,50&amp;icon_names=link" rel="stylesheet"><style id="dyn-img-link-styles-di-script">
      .dyn-img-link-wrapper-di-script {
        anchor-scope: all;
        display: contents;
        position: relative;
        z-index: 1;
      }

      .dyn-img-link-wrapper-di-script img {
        anchor-name: --photo;
        display: block;
        max-width: 100%;
      }

      .dyn-img-link-di-script {
        z-index: 999999;
        background-color: rgba(0, 0, 0, 0.5);
        border-radius: 9999px;
        box-shadow: 0 1px 2px rgba(0,0,0,0.2);
        color: white;
        height: clamp(13px, calc(max(anchor-size(width), anchor-size(height)) * 0.3), 21px);
        width: clamp(13px, calc(max(anchor-size(width), anchor-size(height)) * 0.3), 21px);
        padding: 4px;
        position: absolute;

        bottom: anchor(bottom);
        left: anchor(left);
        margin-left: 10px;
        margin-bottom: 10px;

        transition: background-color 0.2s ease-in-out;
      }

      .dyn-img-link-di-script:hover {
        background-color: rgba(0, 0, 0, 0.8);
      }

      .dyn-img-link-di-script span {
        font-size: 14px;
        vertical-align: top;
      }

      .dyn-img-attribution-button-di-script {
        z-index: 999999;
        background-color: rgba(0, 0, 0, 0.5);
        border-radius: 9999px;
        box-shadow: 0 1px 2px rgba(0,0,0,0.2);
        color: white;
        width: clamp(13px, calc(max(anchor-size(width), anchor-size(height)) * 0.3), 21px);
        height: clamp(13px, calc(max(anchor-size(width), anchor-size(height)) * 0.3), 21px);
        padding: 4px;

        position: absolute;
        position-anchor: --photo;
        top: anchor(top);
        right: anchor(right);
        margin-top: 10px;
        margin-right: 10px;

        transition: background-color 0.2s ease-in-out;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .dyn-img-attribution-button-di-script:hover {
        background-color: rgba(0, 0, 0, 0.8);
      }

      .dyn-img-attribution-button-di-script span {
        font-size: 14px;
        vertical-align: top;
      }

      .dyn-img-inline-attribution-di-script {
        z-index: 999999;
        font-size: 12px;
        padding: 4px;
        display: none;

        position: absolute;
        position-anchor: --photo;
        bottom: anchor(bottom);
        right: anchor(right);
        margin-bottom: 8px;
        margin-right: 8px;

        max-width: 200px;
        overflow: hidden;
        text-overflow: ellipsis;
        text-align: right;

        white-space: nowrap;
        background-color: rgba(0, 0, 0, 0.8);
        border-radius: 9999px;
        box-shadow: 0 1px 2px rgba(0,0,0,0.2);
        color: white;
      }
    </style></head>
<body class="p-2 md:p-6 flex flex-col">

    <div class="pokedex-shell w-full">
        
        <!-- LEFT PANEL: SCREEN (Writing Area) -->
        <div class="screen-container">
            <!-- Top Sensor Bar -->
            <div class="flex items-center gap-4 mb-3 shrink-0">
                <div class="sensor-blue shrink-0"></div>
                <div class="flex gap-2">
                    <div class="w-3 h-3 rounded-full bg-red-500 border border-red-900"></div>
                    <div class="w-3 h-3 rounded-full bg-yellow-400 border border-yellow-900"></div>
                    <div class="w-3 h-3 rounded-full bg-green-500 border border-green-900"></div>
                </div>
                <div class="ml-auto text-[10px] text-slate-600 hidden md:block">BATTERY: 100%</div>
            </div>

            <!-- Info Header inside Screen -->
            <div class="bg-slate-800 text-white p-2 rounded-t-lg flex justify-between items-end shrink-0 border-x-4 border-t-4 border-slate-600">
                <div>
                    <div class="text-xs text-yellow-400 mb-1" id="task-label">POKEMON NAME</div>
                    <div class="text-sm md:text-lg font-bold leading-none text-white" id="target-text">PIKACHU</div>
                </div>
                <div class="text-right">
                    <div class="text-[10px] text-slate-400">HP</div>
                    <div class="w-32 hp-bar-frame">
                        <div class="hp-fill" id="hp-bar" style="width: 100%; background: linear-gradient(90deg, rgb(34, 197, 94), rgb(22, 163, 74));"></div>
                    </div>
                </div>
            </div>

            <!-- Writing Canvas Area -->
            <div class="screen-glass" id="canvas-container">
                <!-- Watermark Sprite -->
                <div class="dyn-img-link-wrapper-di-script" style="border-radius: 0px;"><img id="poke-sprite" src="https://encrypted-tbn2.gstatic.com/shopping?q=tbn:ANd9GcTTYa3CtbF6pfvkzbK2K2BoRAbDmyohtoLk6IHQaZTlzBm-zOc1zsyfZ2jV8rjkSnUQ7bCulic" alt="" class="watermark-sprite"><button class="dyn-img-attribution-button-di-script" title="Image Attribution" style="display: flex;"><span class="material-symbols-outlined">open_in_full</span></button></div>
                
                <!-- Guide Lines (HTML for crispness) -->
                <div class="absolute w-full h-px bg-blue-300 opacity-50" style="top: 25%"></div>
                <div class="absolute w-full h-px border-t-2 border-dashed border-blue-300 opacity-50" style="top: 55%"></div>
                <div class="absolute w-full h-px bg-red-400 opacity-50" style="top: 85%"></div>

                <!-- Canvases -->
                <canvas id="guide-canvas" width="320" height="146"></canvas>
                <canvas id="ink-canvas" width="320" height="146"></canvas>
            </div>

            <!-- Bottom Status Bar -->
            <div class="bg-slate-800 text-center p-2 rounded-b-lg border-x-4 border-b-4 border-slate-600 shrink-0 mt-0">
                <p class="text-xs text-green-400 animate-pulse" id="status-msg">READY FOR BATTLE!</p>
            </div>
        </div>

        <!-- RIGHT PANEL: CONTROLS -->
        <div class="controls-panel">
            
            <!-- Info Screen -->
            <div class="bg-black border-4 border-slate-400 rounded-lg p-4 mb-4 shadow-inner">
                <div class="text-[10px] text-green-500 font-mono mb-2">
                    MODE: <span class="text-white" id="mode-val">NAME</span><br>
                    CASE: <span class="text-white" id="case-val">UPPER</span>
                </div>
                <p class="text-[10px] text-green-500 leading-relaxed">
                    Mission: Write correctly to weaken the target!
                </p>
            </div>

            <!-- Control Grid -->
            <div class="flex-1 flex flex-col justify-end gap-6">
                
                <!-- D-Pad & Action Buttons Row -->
                <div class="flex justify-around items-center w-full">
                    
                    <!-- D-Pad -->
                    <div class="flex flex-col items-center gap-2">
                        <div class="d-pad">
                            <div class="d-btn d-h d-l" onclick="app.prev()"></div> <!-- Left -->
                            <div class="d-btn d-h d-r" onclick="app.next()"></div> <!-- Right -->
                            <div class="d-btn d-v d-u" onclick="app.toggleCase()"></div> <!-- Up -->
                            <div class="d-btn d-v d-d" onclick="app.toggleMode()"></div> <!-- Down -->
                            <div class="d-btn d-c"></div>
                            
                            <!-- Labels -->
                            <div class="absolute -top-4 left-1/2 -translate-x-1/2 text-[8px] text-red-900 font-bold">CASE</div>
                            <div class="absolute -bottom-4 left-1/2 -translate-x-1/2 text-[8px] text-red-900 font-bold">MODE</div>
                        </div>
                        <div class="text-[10px] font-bold text-red-900 mt-2">SELECT</div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex flex-col gap-6 transform -rotate-6">
                        <div class="flex items-center gap-2">
                            <button class="action-circle bg-slate-800 text-red-400 border-2 border-slate-600" onclick="app.clear()">
                                <span class="material-symbols-outlined text-3xl">delete</span>
                            </button>
                            <span class="text-[10px] font-bold text-red-900">CLEAR</span>
                        </div>
                        <div class="flex items-center gap-2 ml-4">
                            <button class="action-circle bg-blue-600 text-white border-2 border-blue-800" onclick="app.check()">
                                <span class="material-symbols-outlined text-3xl">swords</span>
                            </button>
                            <span class="text-[10px] font-bold text-red-900">ATTACK</span>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script>
        const POKEMON_DB = [
            { name: "PIKACHU", move: "THUNDERBOLT", query: "Pikachu+pokemon+official+artwork" },
            { name: "CHARMANDER", move: "FLAMETHROWER", query: "Charmander+pokemon+official+artwork" },
            { name: "SQUIRTLE", move: "HYDRO PUMP", query: "Squirtle+pokemon+official+artwork" },
            { name: "BULBASAUR", move: "SOLAR BEAM", query: "Bulbasaur+pokemon+official+artwork" },
            { name: "SNORLAX", move: "HYPER BEAM", query: "Snorlax+pokemon+official+artwork" },
            { name: "GENGAR", move: "SHADOW BALL", query: "Gengar+pokemon+official+artwork" },
            { name: "EEVEE", move: "QUICK ATTACK", query: "Eevee+pokemon+official+artwork" },
            { name: "MEWTWO", move: "PSYSTRIKE", query: "Mewtwo+pokemon+official+artwork" },
            { name: "JIGGLYPUFF", move: "SING", query: "Jigglypuff+pokemon+official+artwork" },
            { name: "DRAGONITE", move: "DRAGON RAGE", query: "Dragonite+pokemon+official+artwork" },
            { name: "LUCARIO", move: "AURA SPHERE", query: "Lucario+pokemon+official+artwork" },
            { name: "GRENINJA", move: "WATER SHURIKEN", query: "Greninja+pokemon+official+artwork" }
        ];

        class PokeWrite {
            constructor() {
                this.state = {
                    idx: 0,
                    hp: 100,
                    mode: 'NAME', // NAME or MOVE
                    case: 'UPPER', // UPPER or LOWER
                    isDrawing: false
                };

                this.els = {
                    container: document.getElementById('canvas-container'),
                    guideC: document.getElementById('guide-canvas'),
                    inkC: document.getElementById('ink-canvas'),
                    targetText: document.getElementById('target-text'),
                    taskLabel: document.getElementById('task-label'),
                    hpBar: document.getElementById('hp-bar'),
                    sprite: document.getElementById('poke-sprite'),
                    status: document.getElementById('status-msg'),
                    modeVal: document.getElementById('mode-val'),
                    caseVal: document.getElementById('case-val')
                };

                this.gCtx = this.els.guideC.getContext('2d');
                this.iCtx = this.els.inkC.getContext('2d', { willReadFrequently: true });

                this.init();
            }

            init() {
                // Listeners
                window.addEventListener('resize', () => this.resize());
                
                const ink = this.els.inkC;
                
                // Mouse
                ink.addEventListener('mousedown', e => this.start(e));
                window.addEventListener('mousemove', e => this.move(e));
                window.addEventListener('mouseup', () => this.end());

                // Touch
                ink.addEventListener('touchstart', e => { e.preventDefault(); this.start(e); }, {passive: false});
                window.addEventListener('touchmove', e => { e.preventDefault(); this.move(e); }, {passive: false});
                window.addEventListener('touchend', () => this.end());

                // Start
                this.resize(); // Initial resize
                this.loadLevel();
            }

            resize() {
                // Robust Resizing: Set canvas internal resolution to match pixel size
                const rect = this.els.container.getBoundingClientRect();
                
                // Use integer pixel values
                const w = Math.floor(rect.width);
                const h = Math.floor(rect.height);

                this.els.guideC.width = w;
                this.els.guideC.height = h;
                this.els.inkC.width = w;
                this.els.inkC.height = h;

                this.renderGuide();
            }

            getCurrentText() {
                const p = POKEMON_DB[this.state.idx];
                const base = this.state.mode === 'NAME' ? p.name : p.move;
                return this.state.case === 'UPPER' ? base.toUpperCase() : base.toLowerCase();
            }

            loadLevel() {
                const p = POKEMON_DB[this.state.idx];
                const text = this.getCurrentText();

                // UI
                this.els.targetText.textContent = text;
                this.els.taskLabel.textContent = this.state.mode === 'NAME' ? "POKEMON NAME" : "ATTACK MOVE";
                this.els.modeVal.textContent = this.state.mode;
                this.els.caseVal.textContent = this.state.case;
                
                // Sprite
                this.els.sprite.src = `/image?query=${p.query}&aspect=1:1`;
                
                // HP reset only if switching pokemon, not mode/case
                // Logic simplified: Refill HP on new level load? Let's keep HP state per session or reset.
                // For fun, let's reset HP if it was 0.
                if (this.state.hp <= 0) this.state.hp = 100;
                this.updateHP();

                this.clear();
                this.renderGuide();
                this.playSound('select');
            }

            renderGuide() {
                const ctx = this.gCtx;
                const w = this.els.guideC.width;
                const h = this.els.guideC.height;
                const text = this.getCurrentText();

                ctx.clearRect(0, 0, w, h);

                // Typography Logic for Long Names
                // Lines are at: 25% (Top), 55% (Mid), 85% (Base)
                // Writing area height is roughly 85% - 25% = 60% of H
                const writeAreaH = h * 0.6;
                
                let fontSize = Math.floor(writeAreaH); // Start big
                ctx.font = `${fontSize}px "Didact Gothic"`;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'alphabetic';

                // Measure and shrink if too wide
                // Add padding (90% max width)
                const maxW = w * 0.9;
                let textW = ctx.measureText(text).width;

                while (textW > maxW && fontSize > 10) {
                    fontSize -= 5;
                    ctx.font = `${fontSize}px "Didact Gothic"`;
                    textW = ctx.measureText(text).width;
                }

                // Color
                ctx.fillStyle = '#CBD5E1'; // Slate-300 (Subtle ghost)
                
                // Position: Bottom line is at 85%
                const yPos = h * 0.85;
                ctx.fillText(text, w / 2, yPos);
            }

            // --- Drawing with Correct Coordinates ---
            getPos(e) {
                const rect = this.els.inkC.getBoundingClientRect();
                const clientX = e.touches ? e.touches[0].clientX : e.clientX;
                const clientY = e.touches ? e.touches[0].clientY : e.clientY;
                
                // Exact scaling
                const scaleX = this.els.inkC.width / rect.width;
                const scaleY = this.els.inkC.height / rect.height;

                return {
                    x: (clientX - rect.left) * scaleX,
                    y: (clientY - rect.top) * scaleY
                };
            }

            start(e) {
                this.state.isDrawing = true;
                const p = this.getPos(e);
                this.iCtx.beginPath();
                this.iCtx.moveTo(p.x, p.y);
                this.iCtx.lineCap = 'round';
                this.iCtx.lineJoin = 'round';
                this.iCtx.lineWidth = 12; // Nice thick marker
                this.iCtx.strokeStyle = '#1E293B'; // Slate-800 Ink
                this.iCtx.lineTo(p.x, p.y); // Dot
                this.iCtx.stroke();
            }

            move(e) {
                if (!this.state.isDrawing) return;
                const p = this.getPos(e);
                this.iCtx.lineTo(p.x, p.y);
                this.iCtx.stroke();
            }

            end() {
                this.state.isDrawing = false;
                this.iCtx.closePath();
            }

            clear() {
                this.iCtx.clearRect(0, 0, this.els.inkC.width, this.els.inkC.height);
                this.state.isDrawing = false;
                this.setStatus("READY FOR BATTLE!");
            }

            // --- Game Logic ---
            check() {
                // Pixel Compare
                const w = this.els.guideC.width;
                const h = this.els.guideC.height;
                const gData = this.gCtx.getImageData(0, 0, w, h).data;
                const iData = this.iCtx.getImageData(0, 0, w, h).data;

                let targetCount = 0;
                let hitCount = 0;
                let strayCount = 0;

                // Sample every 4th pixel (step 16)
                for (let i = 3; i < gData.length; i += 16) {
                    const gAlpha = gData[i];
                    const iAlpha = iData[i];

                    if (gAlpha > 50) {
                        targetCount++;
                        if (iAlpha > 50) hitCount++;
                    } else {
                        if (iAlpha > 50) strayCount++;
                    }
                }

                if (targetCount === 0) return;

                const coverage = hitCount / targetCount;
                const penalty = Math.min((strayCount / targetCount) * 0.5, 0.5); // Cap penalty
                const score = (coverage * 100) - (penalty * 100);

                console.log(`Score: ${score.toFixed(0)}% (Cov: ${(coverage*100).toFixed(0)}%)`);

                if (score > 50) {
                    this.hit(score);
                } else {
                    this.miss();
                }
            }

            hit(score) {
                const damage = score > 85 ? 50 : 25;
                this.state.hp = Math.max(0, this.state.hp - damage);
                this.updateHP();

                // Visuals
                this.flashScreen();
                
                if (this.state.hp === 0) {
                    this.setStatus("VICTORY! TARGET FAINTED!");
                    this.playSound('win');
                    setTimeout(() => this.next(), 2500);
                } else {
                    if (score > 85) {
                        this.setStatus("CRITICAL HIT! IT'S SUPER EFFECTIVE!");
                        this.playSound('crit');
                    } else {
                        this.setStatus("IT'S A HIT!");
                        this.playSound('hit');
                    }
                }
            }

            miss() {
                this.setStatus("ATTACK MISSED! TRY AGAIN!");
                this.playSound('miss');
            }

            flashScreen() {
                const flash = document.createElement('div');
                flash.className = 'flash-effect';
                this.els.container.appendChild(flash);
                setTimeout(() => flash.remove(), 200);
            }

            updateHP() {
                this.els.hpBar.style.width = `${this.state.hp}%`;
                if (this.state.hp < 20) this.els.hpBar.style.background = '#EF4444'; // Red
                else if (this.state.hp < 50) this.els.hpBar.style.background = '#EAB308'; // Yellow
                else this.els.hpBar.style.background = 'linear-gradient(90deg, #22C55E, #16A34A)'; // Green
            }

            setStatus(msg) {
                this.els.status.textContent = msg;
            }

            // --- Navigation ---
            next() {
                this.state.idx = (this.state.idx + 1) % POKEMON_DB.length;
                this.state.hp = 100; // New Pokemon
                this.loadLevel();
            }

            prev() {
                this.state.idx = (this.state.idx - 1 + POKEMON_DB.length) % POKEMON_DB.length;
                this.state.hp = 100;
                this.loadLevel();
            }

            toggleMode() {
                this.state.mode = this.state.mode === 'NAME' ? 'MOVE' : 'NAME';
                this.loadLevel();
            }

            toggleCase() {
                this.state.case = this.state.case === 'UPPER' ? 'LOWER' : 'UPPER';
                this.loadLevel();
            }

            // --- Sound ---
            async playSound(type) {
                try {
                    await Tone.start();
                    const s = new Tone.PolySynth().toDestination();
                    const now = Tone.now();
                    switch(type) {
                        case 'select': s.triggerAttackRelease("C5", "32n"); break;
                        case 'hit': s.triggerAttackRelease(["C4", "E4"], "16n"); break;
                        case 'crit': s.triggerAttackRelease(["C4", "E4", "G4", "C5"], "8n"); break;
                        case 'miss': s.triggerAttackRelease(["A2"], "16n"); break;
                        case 'win': 
                            s.triggerAttackRelease(["C5", "E5", "G5"], "8n", now);
                            s.triggerAttackRelease(["E5", "G5", "C6"], "8n", now + 0.2);
                            s.triggerAttackRelease(["C6", "E6", "G6"], "4n", now + 0.4);
                            break;
                    }
                } catch (e) {}
            }
        }

        const app = new PokeWrite();
    </script>

    <!--
    IMAGE PRELOADS & ATTRIBUTION
    "/image?query=Pikachu+pokemon+official+artwork&aspect=1:1"
    "/image?query=Charmander+pokemon+official+artwork&aspect=1:1"
    "/image?query=Squirtle+pokemon+official+artwork&aspect=1:1"
    "/image?query=Bulbasaur+pokemon+official+artwork&aspect=1:1"
    "/image?query=Snorlax+pokemon+official+artwork&aspect=1:1"
    "/image?query=Gengar+pokemon+official+artwork&aspect=1:1"
    "/image?query=Eevee+pokemon+official+artwork&aspect=1:1"
    "/image?query=Mewtwo+pokemon+official+artwork&aspect=1:1"
    "/image?query=Jigglypuff+pokemon+official+artwork&aspect=1:1"
    "/image?query=Dragonite+pokemon+official+artwork&aspect=1:1"
    "/image?query=Lucario+pokemon+official+artwork&aspect=1:1"
    "/image?query=Greninja+pokemon+official+artwork&aspect=1:1"
    -->
  <script>
      if (navigator.serviceWorker) {
        navigator.serviceWorker.register (
          '/pokewrite-battle-academy/sw.js',
          {scope: '/pokewrite-battle-academy/'}
        )
      }
  </script>
</body></html>